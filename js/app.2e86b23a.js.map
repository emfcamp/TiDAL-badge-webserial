{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Settings.vue?b31d","webpack:///./src/App.vue?8580","webpack:///./src/components/Programming.vue?01c9","webpack:///./src/webserial.js","webpack:///./src/App.vue?af0e","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/components/Welcome.vue?c09e","webpack:///src/components/Welcome.vue","webpack:///./src/components/Welcome.vue?ec3a","webpack:///./src/components/Welcome.vue","webpack:///./src/components/Apps.vue?3245","webpack:///./src/badge_configs.js","webpack:///src/components/Apps.vue","webpack:///./src/components/Apps.vue?c30f","webpack:///./src/components/Apps.vue?75a0","webpack:///./src/components/Programming.vue?ce60","webpack:///./src/components/Terminal.vue?b616","webpack:///src/components/Terminal.vue","webpack:///./src/components/Terminal.vue?3407","webpack:///./src/components/Terminal.vue","webpack:///src/components/Programming.vue","webpack:///src/components/Settings.vue","webpack:///./src/components/Programming.vue?b6f6","webpack:///./src/components/Programming.vue?4f2b","webpack:///./src/components/Update.vue?86d4","webpack:///src/components/Update.vue","webpack:///./src/components/Update.vue?8002","webpack:///./src/components/Update.vue?730e","webpack:///./src/components/Settings.vue?99b5","webpack:///./src/components/Settings.vue?32cf","webpack:///./src/components/Settings.vue?35ac","webpack:///./src/components/Recover.vue?758b","webpack:///./src/esptool.js","webpack:///src/components/Recover.vue","webpack:///./src/components/Recover.vue?14c2","webpack:///./src/components/Recover.vue?e824","webpack:///./src/components/BadGateway.vue?50ff","webpack:///src/components/BadGateway.vue","webpack:///./src/components/BadGateway.vue?4829","webpack:///./src/components/BadGateway.vue?014d","webpack:///./src/router/index.js","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/assets/logo-mdb-vue-small.png","webpack:///./src/components/BadGateway.vue?4bd1","webpack:///./src/assets/EMF-W-coral-LogoText-2022-colour.png","webpack:///./src/components/Update.vue?0f29","webpack:///./src/components/Recover.vue?759f","webpack:///./src/components/Programming.vue?2420","webpack:///./src/components/Apps.vue?e63b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","port","stdout_callback","reader","writer","outputDone","readableStreamClosed","_vm","this","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","staticStyle","attrs","nativeOn","$event","connect","_v","_m","has_serial","connectClicked","is_connected","_s","class","activeItem","$router","_l","message","id","title","icon","color","show","on","onNotification","staticRenderFns","device","opened","PyShellTransformer","container","chunk","controller","undefined","results","split","pop","forEach","enqueue","sleep","ms","Promise","resolve","setTimeout","strip_flash","path","startsWith","transceive_atomic","timeout","command_id","Math","floor","random","result_header","result_tail","end_time","Date","now","transceive","indexOf","Error","header_position","lastIndexOf","tail_position","add_newlines","console","debug","endsWith","trimEnd","write","read","done","reset","fetch_dir","dir_name","log","answer","includes","lines","line","trim","is_dir","join","readfile","file_name","contents","replaceAll","createfile","deldir","dir","dirlist","unshift","item","charAt","substr","delfile","downloaddir","zip","JSZip","folder","file","runfile","file_path","movefile","source","destination","savetextfile","filename","parts","match","part","escaped","savefile","Uint8Array","chunk_size","chunk_data","base64","encode","createfolder","registerstdout","func","writetostdin","input","connect_resolves","connect_check","on_connect","navigator","serial","requestPort","ondisconnect","event","open","baudRate","textDecoder","TextDecoderStream","readable","pipeTo","writable","pipeThrough","TransformStream","getReader","encoder","TextEncoderStream","outputStream","getWriter","disconnect","cancel","catch","close","setInterval","component","messages","lifetime","delete_list","components","mdbModal","mdbModalHeader","mdbModalTitle","mdbModalBody","mdbListGroup","mdbListGroupItem","mdbIcon","mdbToastNotification","ftr","methods","$route","message_id","newmessage","computed","meta","page","beforeMount","mixins","mdbRow","mdbCol","mdbCard","mdbCardBody","mdbCardHeader","installing_file","model","callback","$$v","installing_progress","_e","$$selectedVal","Array","filter","target","options","selected","map","val","_value","selected_store_category","multiple","category","domProps","selected_store_state","state","hatchery_url","app","slug","description","status","author","revision","local_apps","disabled","installing","install_app","uninstall_app","badges","metadata","releases","latest_release_key","mkapp_ui","mkdir_ui","mkfile_ui","rename_ui","trash_ui","download_ui","runfile_ui","save_ui","editorfilename","files","itemClick","itemToggle","itemDrop","otherDrop","itemDragStart","content_editor","ref","commandpython","commandlog","str","mdbBtn","mdbInput","VJstree","editor","Terminal","then","parseDir","updateNode","full_path","children","node","selected_item","isDummy","isToggled","entry","beforemoveloc","parent_path","app_name","dirname","info","e","content_original","checking_badge","badge_firmware_version","checking_server","server_firmware_version","update","wifi_ssid","wifi_password","save_wifi","app_slug","onJsonChange","configs","$set","save_app","recover","inputBuffer","FLASH_WRITE_SIZE","ESP32S2_FLASH_WRITE_SIZE","FLASH_SECTOR_SIZE","SYNC_PACKET","toByteArray","ESP8266","ESP32","ESP32S2","ESP32_DATAREGVALUE","ESP8266_DATAREGVALUE","ESP32S2_DATAREGVALUE","ESP_FLASH_BEGIN","ESP_FLASH_DATA","ESP_FLASH_END","ESP_MEM_BEGIN","ESP_MEM_END","ESP_MEM_DATA","ESP_SYNC","ESP_READ_REG","ESP_ERASE_FLASH","ESP_SPI_SET_PARAMS","ESP_CHANGE_BAUDRATE","ESP_CHECKSUM_MAGIC","ROM_INVALID_RECV_MSG","USB_RAM_BLOCK","DEFAULT_TIMEOUT","CHIP_ERASE_TIMEOUT","MAX_TIMEOUT","ERASE_REGION_TIMEOUT_PER_MB","MEM_END_ROM_TIMEOUT","byteArray","charcode","charCodeAt","EspLoader","logFunc","errorFunc","flashsize","writeToStream","_chipfamily","_efuses","fill","_flashsize","IS_STUB","buffer","encoded","byte","concat","oui","macAddr","mac0","mac1","mac2","mac3","baseAddr","readRegister","reg","packet","pack","checkCommand","register","unpack","datareg","chipType","_readEfuses","opcode","checksum","min","sendCommand","getResponse","statusLen","toHex","error","secondsPerMb","sizeBytes","slipEncode","reply","packetLength","escapedByte","stamp","b","raw","userAgent","parseInt","baud","getChromeVersion","baudrate","args","format","pointer","replace","bytes","littleEndian","pushBytes","byteCount","_sync","response","setSignals","dataTerminalReady","requestToSend","binaryData","offset","setProgress","filesize","byteLength","flashBegin","blocks","block","seq","position","flashWriteSize","getFlashWriteSize","percentage","from","flashBlock","size","toString","toUpperCase","padStart","encrypted","numBlocks","eraseSize","getEraseSize","timeoutPerMb","sectorsPerBlock","sectorSize","numSectors","startSector","headSectors","blocksize","getStubCode","stub","load_start","load_end","data_start","text_start","text","start","end","entrypoint","fetch","getStubFile","json","stubcode","atob","ramBlock","field","keys","memBegin","fromOffs","toOffs","memBlock","memFinish","readBuffer","String","fromCharCode","EspStubLoader","Vue","use","Router","router","routes","props","Welcome","alias","Apps","Programming","Update","Settings","Recover","BadGateway","redirect","beforeEach","to","next","Vuex","Store","mutations","actions","VueGoogleMaps","load","libraries","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.2e86b23a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=7731d546&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=7f71a70e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programming.vue?vue&type=style&index=0&id=3ef9d240&scoped=true&lang=css&\"","/**\n * Created by Tom on 5/27/2020.\n */\nexport let device = {opened: false};\nexport let port, stdout_callback, reader, writer, outputDone, readableStreamClosed;\n\nlet MAX_RETRIES = 3;\n\nimport * as $ from 'jquery';\nimport * as JSZip from 'jszip';\nimport {encode} from 'uint8-to-base64';\n\nclass PyShellTransformer {\n    constructor() {\n      this.container = '';\n    }\n  \n    transform(chunk, controller) {\n        if (stdout_callback !== undefined) {\n            stdout_callback(chunk);\n        }\n        this.container += chunk;\n        const results = this.container.split('>>> ');\n        this.container = results.pop();\n        results.forEach(result => controller.enqueue(result));\n    }\n  \n    flush(controller) {\n      controller.enqueue(this.container);\n    }\n}\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nfunction strip_flash(path) {\n    return path.startsWith('/flash') ? path.slice('/flash'.length) : path;\n}\n\nasync function transceive_atomic(data, timeout=3000) {\n    const command_id = Math.floor(Math.random() * 10000000)\n    const result_header = \"BEGIN \" + command_id\n    const result_tail = \"END \" + command_id\n    const end_time = Date.now() + timeout\n\n    // Wrap data in a prologue and epilogue with a random number in it, and do so in paste mode\n    data = '\\r\\n\\x05print(\"' + result_header + '\")\\r\\n' + data + '\\r\\nprint(\"\\\\n' + result_tail + '\")\\r\\n\\x04\\r\\n'\n    await sleep(50);\n    let result = await transceive(data, false)\n    await sleep(50);\n\n    // Loop while we don't have the tail marker, getting more data\n    while (result.indexOf(result_tail) == -1) {\n        // Check against the timeout\n        if (Date.now() > end_time) {\n            throw new Error(\"Timeout during serial transceive\")\n        }\n\n        // Transceive a newline, so we're guaranteed not to hang waiting for data\n        result += await transceive(\"\\r\\n\", false)\n        //console.log(\"Waiting for \" + result_tail +\" in \" + result);\n        await sleep(50);\n    }\n\n    // Cut the value to things after the result of the last header\n    let header_position = result.lastIndexOf(result_header)\n    if (header_position >= 0) {\n        // Slice off the header and the trailing newline\n        result = result.slice(header_position + result_header.length + 2, result.length)\n    }\n\n    // Now cut up to the start of the trailing section\n    let tail_position = result.lastIndexOf(result_tail)\n    if (tail_position >= 0) {\n        result = result.slice(0, tail_position-2)\n    }\n    await sleep(50);\n    return result\n}\n\nasync function transceive(data, add_newlines=true) {\n    if (typeof(data) != 'string') {\n        console.debug('Can\\'t call transceive on non-text data');\n        return;\n    }\n\n    if (add_newlines && !data.endsWith('\\r\\n')) {\n        data = data.trimEnd() + '\\r\\n';\n    }\n\n    await writer.write(data);\n    let {value, done} = await reader.read();\n    if (done) {\n        return '';\n    }\n\n    if (value.indexOf(data) == 0) {\n        // Strip echoed command from answer\n        value = value.slice(data.length); // Includes the newline characters after the echoed command\n    }\n\n    return value;\n}\n\nasync function reset() {\n    // Toggle badge reset pin\n    //await port.setSignals({ requestToSend: true, dataTerminalReady: false });\n    //await sleep(100);\n    //await port.setSignals({ requestToSend: false, dataTerminalReady: false });\n    \n    // Wait for the firmware to start\n    await sleep(1000);\n    \n    // Enter the serial menu's Python Shell option\n    await transceive('\\r\\n');\n}\n\nexport async function fetch_dir(dir_name) {\n    dir_name = strip_flash(dir_name);\n    console.log('Fetching', dir_name);\n    if (dir_name === undefined || dir_name === '') {\n        dir_name = '/';\n    }\n    let answer = await transceive_atomic(`from upysh import ls; ls('${dir_name}')`);\n    if (answer.includes(\"ENOENT\")) {\n        return \"\";\n    }\n    let lines = answer.trimEnd().split('\\n');\n    let result = [dir_name !== '' ? dir_name : '/'];\n\n    // Cut off space remaining\n    lines = lines.slice(0, -1)\n    for (let line of lines) {\n        line = line.trim();\n        if (line === '') {\n            continue;\n        }\n        let is_dir = line.startsWith('<dir>');\n        result.push((is_dir ? 'd' : 'f') + line.split(' ')[1]);\n    }\n\n    return result.join('\\n');\n}\n\nexport async function readfile(file_name, return_string=true) {\n    file_name = strip_flash(file_name);\n    let contents = await transceive_atomic(`from upysh import cat; cat('${file_name}')`);\n    return contents.replaceAll('\\r\\n', '\\n')\n}\n\nexport async function createfile(file_name) {\n    file_name = strip_flash(file_name);\n    return await transceive_atomic(`f=open('${file_name}', 'w'); f.close()`);\n}\n\nexport async function deldir(dir_name) {\n    dir_name = strip_flash(dir_name);\n    let dir = await fetch_dir(dir_name)\n    if (dir == \"\") {\n        return;\n    }\n    let dirlist = dir.split('\\n');\n    dirlist.unshift();\n    console.log(dirlist);\n    for(let i = 1; i < dirlist.length; i++) {\n        let item = dirlist[i];\n        if(item.charAt(0) == 'd') {\n            await deldir(dir_name + \"/\" + item.substr(1));\n        } else {\n            await delfile(dir_name + \"/\" + item.substr(1));\n        }\n    }\n    await delfile(dir_name);\n}\n\nexport async function downloaddir(dir_name, zip=undefined) {\n    if(zip === undefined) {\n        zip = new JSZip();\n    }\n\n    dir_name = strip_flash(dir_name);\n\n    let dir = await fetch_dir(dir_name)\n    if (dir == \"\") {\n        return;\n    }\n    let dirlist = dir.split('\\n');\n    dirlist.unshift();\n    console.log(dirlist);\n    for(let i = 1; i < dirlist.length; i++) {\n        let item = dirlist[i];\n        if(item.charAt(0) == 'd') {\n            await downloaddir(dir_name + \"/\" + item.substr(1), zip.folder(item.substr(1)));\n        } else {\n            let data = await readfile(dir_name + \"/\" + item.substr(1));\n            zip.file(item.substr(1), data);\n        }\n    }\n    return zip;\n}\n\nexport function delfile(file_name) {\n    file_name = strip_flash(file_name);\n    return transceive_atomic(`from upysh import rm; rm('${file_name}')`);\n}\n\nexport function runfile(file_path) {\n    file_path = strip_flash(file_path);\n    if(file_path.startsWith('/flash')) {\n        file_path = file_path.slice('/flash'.length);\n    }\n    return transceive_atomic(`__import__('${file_path}')`);\n}\n\nexport function duplicatefile(source, destination) {\n    source = strip_flash(source);\n    destination = strip_flash(destination);\n    console.error('duplicatefile is not yet implemented');\n}\n\nexport function movefile(source, destination) {\n    source = strip_flash(source);\n    destination = strip_flash(destination);\n    return transceive_atomic(`from upysh import mv; mv('${source}', '${destination}')`);\n}\n\nexport function copyfile(source, destination) {\n    source = strip_flash(source);\n    destination = strip_flash(destination);\n    return transceive_atomic(`from upysh import cp; cp('${source}', '${destination}')`);\n}\n\nexport async function savetextfile(filename, contents) {\n    filename = strip_flash(filename);\n    const parts = contents.match(/.{1,32}/sg);\n    await transceive_atomic(`f=open('${filename}', 'wt')`);\n    console.log(\"hi\");\n    for (let part of parts) {\n        let escaped = part.replaceAll('\\r', '\\\\r').replaceAll('\\n', '\\\\n').replaceAll(\"'\", \"\\\\'\");\n        await transceive_atomic(`f.write('${escaped}')`);\n        console.log(\"part\");\n    }\n    console.log(\"bye\");\n    await transceive_atomic(`f.close()`);\n}\n\nexport async function savefile(filename, contents) {\n    filename = strip_flash(filename);\n    let data = new Uint8Array(contents);\n    await transceive_atomic(`import binascii; f=open('${filename}', 'wb')\\r\\n`);\n\n    let chunk_size = 100;\n    for (let i = 0; i < data.length; i += chunk_size) {\n        let chunk_data = data.slice(i, i + chunk_size);\n        let base64 = encode(chunk_data);\n        await transceive_atomic(`f.write(binascii.a2b_base64('${base64}'))\\r\\n`);\n    }\n\n    return transceive_atomic(`f.close()\\r\\n`);\n}\n\nexport function createfolder(folder) {\n    folder = strip_flash(folder);\n    return transceive_atomic(`from upysh import mkdir; mkdir('${folder}')`);\n}\n\nexport function registerstdout(func) {\n    stdout_callback = func;\n}\n\nexport function writetostdin(input) {\n    return transceive(input, false);\n}\n\nlet connect_resolves = [];\nfunction connect_check() {\n    if(device !== undefined && device.opened) {\n        for(let resolve of connect_resolves) {\n            resolve();\n        }\n        connect_resolves = [];\n    }\n}\nsetInterval(connect_check, 500);\n\nexport function on_connect() {\n    return new Promise((resolve) => connect_resolves.push(resolve));\n}\n\n\nexport async function connect() {\n    try {\n        port = await navigator.serial.requestPort();\n    } catch (error) {\n        // DOMException \"SecurityError\": The returned Promise rejects with this error if a Feature Policy restricts use of this API or a permission to use it has not granted via a user gesture.\n        // DOMException \"AbortError\": The returned Promise rejects with this if the user does not select a port when prompted.\n        console.log('requestPort', error)\n        // TODO: flash a message \"You need to select a port and click connect\"\n\n        return false;\n    }\n\n\n    port.ondisconnect = (event) => {\n        console.log('ondisconnect', event);\n      // notify that the port has become unavailable\n      device.opened = false;\n    };\n\n    try {\n        await port.open({baudRate: 115200});\n    } catch (error) {\n        // InvalidStateError: Returned if the port is already open.\n        // NetworkError DOMException: Returned if the attempt to open the port failed.\n        console.log('port open', error);\n        // TODO: flash a message \"Failed to open port?\"\n\n        return false;\n    }\n\n    let textDecoder = new TextDecoderStream();\n    readableStreamClosed = port.readable.pipeTo(textDecoder.writable);\n    reader = textDecoder.readable\n      .pipeThrough(new TransformStream(new PyShellTransformer()))\n      .getReader();\n\n\n    let encoder = new TextEncoderStream();\n    outputDone = encoder.readable.pipeTo(port.writable);\n    let outputStream = encoder.writable;\n    writer = outputStream.getWriter();\n\n    window.reader = reader;\n\n    await reset();\n    device.opened = true;\n}\n\nexport async function disconnect() {\n    // console.log('disconnect', port);\n\n    reader.cancel();\n    await readableStreamClosed.catch(() => { /* Ignore the error */ });\n\n    writer.close();\n    await outputDone;\n\n    // not sure if i need to dispose of these like this -LWK\n    window.reader = null;\n    reader = null;\n    writer = null;\n\n\n    try {\n        await port.close();\n    } catch (error) {\n        console.log('port.close', error);\n        return false;\n    }\n\n    port = null; // same question here -LWK\n    device.opened = false;\n\n    // TODO: flash badge disconnected ok? or handle in App.vue?\n    return true;\n}\n\n\nwindow.transceive = transceive_atomic;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flexible-content\"},[_c('mdb-modal',{directives:[{name:\"show\",rawName:\"v-show\",value:(false && !_vm.is_connected),expression:\"false && !is_connected\"}],staticStyle:{\"cursor\":\"pointer\",\"z-index\":\"9999\"},attrs:{\"size\":\"lg\"},nativeOn:{\"click\":function($event){return _vm.connect()}}},[_c('mdb-modal-header',[_c('mdb-modal-title',[_vm._v(\"Let's get started\")])],1),(_vm.has_serial)?_c('mdb-modal-body',[_vm._v(\"Click anywhere to connect to your badge via USB\")]):_c('mdb-modal-body',[_vm._v(\"It appears your browser does not support WebSerial. Make sure to use Chrome (at least v89).\")])],1),_c('div',{staticClass:\"sidebar-fixed position-fixed\"},[_vm._m(0),_c('mdb-list-group',{staticClass:\"list-group-flush\"},[_c('mdb-list-group-item',{attrs:{\"action\":true,\"disabled\":! _vm.has_serial},nativeOn:{\"click\":function($event){return _vm.connectClicked($event)}}},[_c('mdb-icon',{staticClass:\"mr-3\",attrs:{\"icon\":!_vm.is_connected ? 'phone' : 'phone-slash'}}),_vm._v(_vm._s(!_vm.is_connected ? 'Connect' : 'Disconnect')+\" \")],1),_c('mdb-list-group-item',{class:_vm.activeItem === 1 && 'active',attrs:{\"action\":true,\"disabled\":!_vm.is_connected},nativeOn:{\"click\":function($event){return _vm.$router.push('/apps')}}},[_c('mdb-icon',{staticClass:\"mr-3\",attrs:{\"icon\":\"table\"}}),_vm._v(\"Apps\")],1),_c('mdb-list-group-item',{class:_vm.activeItem === 2 && 'active',attrs:{\"action\":true,\"disabled\":!_vm.is_connected},nativeOn:{\"click\":function($event){return _vm.$router.push('/programming')}}},[_c('mdb-icon',{staticClass:\"mr-3\",staticStyle:{\"width\":\"16px\",\"text-align\":\"center\"},attrs:{\"icon\":\"i-cursor\"}}),_vm._v(\"Programming & Files\")],1),_c('mdb-list-group-item',{class:_vm.activeItem === 3 && 'active',attrs:{\"action\":true,\"disabled\":!_vm.is_connected},nativeOn:{\"click\":function($event){return _vm.$router.push('/update')}}},[_c('mdb-icon',{staticClass:\"mr-3\",staticStyle:{\"width\":\"16px\",\"text-align\":\"center\"},attrs:{\"icon\":\"bolt\"}}),_vm._v(\"Update\")],1),_c('mdb-list-group-item',{class:_vm.activeItem === 4 && 'active',attrs:{\"action\":true,\"disabled\":!_vm.is_connected},nativeOn:{\"click\":function($event){return _vm.$router.push('/settings')}}},[_c('mdb-icon',{staticClass:\"mr-3\",attrs:{\"icon\":\"cog\"}}),_vm._v(\"Settings\")],1)],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"placement\"},_vm._l((_vm.messages),function(message){return _c('mdb-toast-notification',{key:message.id,attrs:{\"title\":message.title,\"message\":message.message,\"icon\":message.icon,\"iconColor\":message.color,\"show\":_vm.show}})}),1)]),_c('main',{staticClass:\"d-flex flex-column min-vh-100\"},[_c('div',{staticClass:\"flex-grow-1 p-5\"},[_c('router-view',{on:{\"genNotification\":_vm.onNotification}})],1),_c('ftr',{staticClass:\"text-center font-small darken-2\",attrs:{\"color\":\"primary-color-dark\"}},[_c('div',{staticClass:\"pb-4 pt-4\"},[_c('a',{attrs:{\"href\":\"https://twitter.com/emfcamp\"}},[_c('mdb-icon',{staticClass:\"mr-3\",attrs:{\"fab\":\"\",\"icon\":\"twitter\"}})],1),_c('a',{attrs:{\"href\":\"https://github.com/emfcamp\"}},[_c('mdb-icon',{staticClass:\"mr-3\",attrs:{\"fab\":\"\",\"icon\":\"github\"}})],1)])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"logo-wrapper\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"alt\":\"\",\"src\":require(\"./assets/EMF-W-coral-LogoText-2022-colour.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flexible-content\">\n    <mdb-modal size=\"lg\" style=\"cursor: pointer; z-index: 9999;\" v-show=\"false && !is_connected\" @click.native=\"connect()\">\n      <mdb-modal-header>\n        <mdb-modal-title>Let's get started</mdb-modal-title>\n      </mdb-modal-header>\n      <mdb-modal-body v-if=\"has_serial\">Click anywhere to connect to your badge via USB</mdb-modal-body>\n      <mdb-modal-body v-else>It appears your browser does not support WebSerial. Make sure to use Chrome (at least v89).</mdb-modal-body>\n    </mdb-modal>\n    <!-- Sidebar -->\n    <div class=\"sidebar-fixed position-fixed\">\n      <a class=\"logo-wrapper\"><img alt=\"\" class=\"img-fluid\" src=\"./assets/EMF-W-coral-LogoText-2022-colour.png\"/></a>\n      <mdb-list-group class=\"list-group-flush\">\n          <mdb-list-group-item\n            :action=\"true\"\n            @click.native=\"connectClicked\"\n            :disabled=\"! has_serial\"\n            >\n            <mdb-icon :icon=\"!is_connected ? 'phone' : 'phone-slash'\" class=\"mr-3\" />{{ !is_connected ? 'Connect' : 'Disconnect' }}\n          </mdb-list-group-item>\n          <mdb-list-group-item\n            :action=\"true\"\n            :class=\"activeItem === 1 && 'active'\"\n            @click.native=\"$router.push('/apps')\"\n            :disabled=\"!is_connected\"\n            ><mdb-icon icon=\"table\" class=\"mr-3\" />Apps</mdb-list-group-item>\n          <mdb-list-group-item\n            :action=\"true\"\n            :class=\"activeItem === 2 && 'active'\"\n            @click.native=\"$router.push('/programming')\"\n            :disabled=\"!is_connected\"\n            ><mdb-icon icon=\"i-cursor\" class=\"mr-3\" style=\"width:16px;text-align:center\" />Programming & Files</mdb-list-group-item>\n          <mdb-list-group-item\n            :action=\"true\"\n            :class=\"activeItem === 3 && 'active'\"\n            @click.native=\"$router.push('/update')\"\n            :disabled=\"!is_connected\"\n          ><mdb-icon icon=\"bolt\" class=\"mr-3\" style=\"width:16px;text-align:center\" />Update</mdb-list-group-item>\n          <mdb-list-group-item\n            :action=\"true\"\n            :class=\"activeItem === 4 && 'active'\"\n            @click.native=\"$router.push('/settings')\"\n            :disabled=\"!is_connected\"\n            ><mdb-icon icon=\"cog\" class=\"mr-3\" />Settings</mdb-list-group-item>\n      </mdb-list-group>\n    </div>\n    <!-- notifications -->\n    <div class=\"container\">\n        <div class=\"placement\">\n          <mdb-toast-notification v-for=\"message in messages\" :key=\"message.id\" :title=\"message.title\" :message=\"message.message\" :icon=\"message.icon\" :iconColor=\"message.color\" :show=\"show\"/>\n        </div>\n      </div>\n    <!-- /Sidebar  -->\n    <main class=\"d-flex flex-column min-vh-100\">\n      <div class=\"flex-grow-1 p-5\">\n        <router-view v-on:genNotification=\"onNotification\">\n        </router-view>\n      </div>\n      <ftr color=\"primary-color-dark\" class=\"text-center font-small darken-2\">\n        <div class=\"pb-4 pt-4\">\n          <a href=\"https://twitter.com/emfcamp\"><mdb-icon fab icon=\"twitter\" class=\"mr-3\"/></a>\n          <!-- <a href=\"https://www.youtube.com/watch?v=G0mEW8f2vac\"><mdb-icon fab icon=\"youtube\" class=\"mr-3\"/></a> -->\n          <a href=\"https://github.com/emfcamp\"><mdb-icon fab icon=\"github\" class=\"mr-3\"/></a>\n        </div>\n      </ftr>\n    </main>\n  </div>\n</template>\n\n<script>\nimport {\n  mdbModal,\n  mdbModalHeader,\n  mdbModalTitle,\n  mdbModalBody,\n  mdbIcon,\n  mdbListGroup,\n  mdbListGroupItem,\n  mdbFooter,\n  mdbToastNotification,\n  waves\n} from \"mdbvue\";\n\nimport {device, connect, disconnect} from './badgecomm';\n\nlet component = undefined;\nsetInterval(() => {\n  component.is_connected = device !== undefined && device.opened;\n}, 1000);\n\nsetInterval(() => {\n  let delete_list = [];\n  for(let i=0; i < component.messages.length; i++) {\n    component.messages[i].lifetime--;\n    if(component.messages[i].lifetime <= 0) {\n      delete_list.unshift(i);\n    }\n  }\n  for(let i=0; i < delete_list.length; i++) {\n    component.messages.splice(delete_list[i], 1);\n  }\n}, 100);\n\nexport default {\n  name: \"AdminTemplate\",\n  components: {\n    mdbModal,\n    mdbModalHeader,\n    mdbModalTitle,\n    mdbModalBody,\n    mdbListGroup,\n    mdbListGroupItem,\n    mdbIcon,\n    mdbToastNotification,\n    ftr: mdbFooter\n  },\n  methods: {\n    connectClicked() {\n      if (! component.is_connected) {\n        connect();\n      } else {\n        disconnect();\n        if (component.$route.name != 'Welcome') {\n          component.$router.push('/');\n        }\n      }\n    },\n    connect:connect,\n    disconnect:disconnect,\n    onNotification: (message, title='', icon='info', color='elegant', lifetime=30) => {\n      let newmessage = {id: component.message_id, title:title, message:message, icon:icon, color:color, lifetime:lifetime};\n      component.message_id++;\n      component.messages.push(newmessage);\n    },\n  },\n  data() {\n    return {\n      show: true,\n      message_id: 1,\n      messages: [],\n      is_connected: device !== undefined && device.opened\n    };\n  },\n  computed:{\n    activeItem() {\n      return component.$route.meta.page;\n    }\n  },\n  beforeMount() {\n    component = this;\n    this.has_serial = !!navigator.serial;\n  },\n  mixins: [waves]\n};\n</script>\n\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\");\n.navbar-light .navbar-brand {\n  margin-left: 15px;\n  color: #2196f3 !important;\n  font-weight: bolder;\n}\n.placement {\n  position: fixed;\n  right: 10px;\n  top: 10px;\n  z-index:8000;\n}\n</style>\n\n<style scoped>\nmain {\n  background-color: #3c3c3c;\n}\n\n.flexible-content {\n  transition: padding-left 0.3s;\n  padding-left: 270px;\n  height: 100%;\n}\n\n.flexible-navbar {\n  transition: padding-left 0.5s;\n  padding-left: 270px;\n}\n\n.sidebar-fixed {\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 270px;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n  z-index: 1050;\n  background-color: #171123;\n  padding: 1.5rem;\n  padding-top: 0;\n}\n\n.sidebar-fixed .logo-wrapper img {\n  width: 100%;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n\n.sidebar-fixed .list-group-item {\n  display: block !important;\n  transition: background-color 0.3s;\n}\n\n.sidebar-fixed .list-group .active {\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n  border-radius: 5px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7f71a70e&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=7f71a70e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f71a70e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"welcome\"}},[_c('mdb-row',[_c('mdb-col',{attrs:{\"md\":\"12\"}},[_c('mdb-card',{staticClass:\"mb-4\"},[_c('mdb-card-header',[_vm._v(\"Welcome to the TiDAL WebSerial Editor\")]),_c('mdb-card-body',[_vm._v(\" Words about what this site is for\"),_c('br'),_vm._v(\" * TiDAL\"),_c('br'),_vm._v(\" * plug into USB,\"),_c('br'),_c('br'),(_vm.has_serial)?_c('span',[(! _vm.is_connected)?_c('span',[_vm._v(\"Click Connect to connect to your badge via USB\")]):_c('span',[_vm._v(\"Your badge is connected\")])]):_c('span',[_vm._v(\"It appears your browser does not support WebSerial. Make sure to use Chrome (at least v89).\")]),_c('br')])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section id=\"welcome\">\n    <mdb-row>\n      <mdb-col md=\"12\">\n        <mdb-card class=\"mb-4\">\n          <mdb-card-header>Welcome to the TiDAL WebSerial Editor</mdb-card-header>\n          <mdb-card-body>\n            Words about what this site is for<br>\n            * TiDAL<br>\n            * plug into USB,<br>\n\n            <br>\n            <span v-if=\"has_serial\">\n              <span v-if=\"! is_connected\">Click Connect to connect to your badge via USB</span>\n              <span v-else>Your badge is connected</span>\n            </span>\n            <span v-else>It appears your browser does not support WebSerial. Make sure to use Chrome (at least v89).</span>\n            <br>\n          </mdb-card-body>\n        </mdb-card>\n      </mdb-col>\n    </mdb-row>\n  </section>\n</template>\n\n<script>\nimport {\n  mdbRow,\n  mdbCol,\n  mdbCard,\n  mdbCardBody,\n  mdbCardHeader,\n} from 'mdbvue';\n\nimport {device} from '../badgecomm';\n\nlet component = undefined;\nsetInterval(() => {\n  component.is_connected = device !== undefined && device.opened;\n}, 1000);\n\nexport default {\n  name: 'Welcome',\n  components: {\n    mdbRow,\n    mdbCol,\n    mdbCard,\n    mdbCardBody,\n    mdbCardHeader,\n  },\n  beforeMount() {\n    component = this;\n    this.has_serial = !!navigator.serial;\n  },\n  methods: {\n  },\n  data() {\n    return {\n      is_connected: device !== undefined && device.opened,\n    }\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Welcome.vue?vue&type=template&id=6c8dabc6&scoped=true&\"\nimport script from \"./Welcome.vue?vue&type=script&lang=js&\"\nexport * from \"./Welcome.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c8dabc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"apps\"}},[(_vm.installing)?_c('mdb-modal',{staticStyle:{\"cursor\":\"pointer\",\"z-index\":\"9999\"},attrs:{\"size\":\"lg\"}},[_c('mdb-modal-body',[_vm._v(\" Currently writing: \"+_vm._s(_vm.installing_file)+\" \"),_c('mdb-progress',{attrs:{\"height\":20},model:{value:(_vm.installing_progress),callback:function ($$v) {_vm.installing_progress=$$v},expression:\"installing_progress\"}})],1)],1):_vm._e(),_c('mdb-row',[_c('mdb-col',{attrs:{\"md\":\"12\"}},[_c('mdb-card',{staticClass:\"mb-4\"},[_c('mdb-card-header',[_vm._v(\"Install apps from app store\")]),_c('mdb-card-body',[_c('mdb-row',[_c('mdb-col',{attrs:{\"sm\":\"6\",\"md\":\"3\"}},[_c('span',[_vm._v(\"Filter category\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_store_category),expression:\"selected_store_category\"}],staticClass:\"browser-default custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected_store_category=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.categories),function(category){return _c('option',{key:category,domProps:{\"value\":category}},[_vm._v(_vm._s(category))])}),0)]),_c('mdb-col',{attrs:{\"sm\":\"6\",\"md\":\"3\"}},[_c('span',[_vm._v(\"Filter development state\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_store_state),expression:\"selected_store_state\"}],staticClass:\"browser-default custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected_store_state=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.states),function(state){return _c('option',{key:state,domProps:{\"value\":state}},[_vm._v(_vm._s(state))])}),0)]),_c('mdb-col',{attrs:{\"sm\":\"6\"}},[_c('span',[_vm._v(\"Apps uploaded to \"+_vm._s(_vm.hatchery_url)+\" will automatically show up here for everyone. Be sure to upload yours! :)\")])])],1),_c('mdb-tbl',{staticClass:\"table-striped\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"App name\")]),_c('th',[_vm._v(\"Description\")]),_c('th',[_vm._v(\"Category\")]),_c('th',[_vm._v(\"State\")]),_c('th',[_vm._v(\"Author\")]),_c('th',[_vm._v(\"Revision\")]),_c('th',[_vm._v(\"Install\")])])]),_c('tbody',_vm._l((_vm.filtered_store_apps),function(app){return _c('tr',{key:app.slug},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(app.name))]),_c('td',[_vm._v(_vm._s(app.description))]),_c('td',[_vm._v(_vm._s(app.category))]),_c('td',[_vm._v(_vm._s(app.status))]),_c('td',[_vm._v(_vm._s(app.author || 'Unknown'))]),_c('td',[_vm._v(_vm._s(app.revision))]),_c('td',[(_vm.local_apps.indexOf(app.slug) === -1)?_c('mdb-btn',{class:{disabled: _vm.installing},attrs:{\"color\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.install_app(app.slug)}}},[_vm._v(\"Install\")]):_c('mdb-btn',{attrs:{\"color\":\"red\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.uninstall_app(app.slug)}}},[_vm._v(\"Uninstall\")])],1)])}),0)])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const badges = {\n    \"generic\": {\n        \"hatchery_url\": \"hatchery.badge.team\",\n        \"ota_version_url\": \"ota.badge.team/version/\",\n    },\n    \"sha2017\": {\n        \"name\": \"SHA2017\",\n        \"hatchery_url\": \"hatchery.badge.team\",\n        \"ota_version_url\": \"ota.badge.team/version/\",\n        \"flashsize\": 16,\n        \"baudrate\": 115200,\n        \"flash\": [\n            {\"filename\": \"bootloader.bin\", \"address\": 4096, \"name\": \"bootloader\"},\n            {\"filename\": \"hackerhotel2019_16MB.bin\", \"address\": 32768, \"name\": \"partition table\"},\n            {\"filename\": \"ota_data_initial.bin\", \"address\": 53248, \"name\": \"OTA data\"},\n            {\"filename\": \"sha2017.bin\", \"address\": 65536, \"name\": \"firmware\"}\n        ]\n    },\n    \"pixel\": {\n        \"name\": \"Pixel Badge\",\n        \"hatchery_url\": \"hatchery.badge.team\",\n        \"ota_version_url\": \"ota.badge.team/version/\",\n        \"flashsize\": 4,\n        \"baudrate\": 115200,\n        \"flash\": [\n            {\"filename\": \"bootloader.bin\", \"address\": 4096, \"name\": \"bootloader\"},\n            {\"filename\": \"pixelv1_4MB.bin\", \"address\": 32768, \"name\": \"partition table\"},\n            {\"filename\": \"ota_data_initial.bin\", \"address\": 53248, \"name\": \"OTA data\"},\n            {\"filename\": \"firmware.bin\", \"address\": 65536, \"name\": \"firmware\"}\n        ]\n    },\n    \"tidal\": {\n        \"name\": \"Pixel Badge\",\n        \"hatchery_url\": \"2022.badge.emfcamp.org\",\n        \"ota_version_url\": \"github.com/emfcamp/TiDAL-Firmware/releases/download/latest/\",\n    },\n}","<template>\n    <section id=\"apps\">\n        <mdb-modal size=\"lg\" style=\"cursor: pointer; z-index: 9999;\" v-if=\"installing\">\n            <mdb-modal-body>\n                Currently writing: {{ installing_file }}\n                <mdb-progress :height=\"20\" v-model=\"installing_progress\" />\n            </mdb-modal-body>\n        </mdb-modal>\n        <!-- <mdb-row>\n            <mdb-col md=\"5\">\n                <mdb-card class=\"mb-4\">\n                    <mdb-card-body class=\"badge_container\">\n                        <mdb-row>\n                            <mdb-col sm=\"4\" class=nav-left>\n                                <mdb-btn color=\"primary\" title=\"Previous Page\" size=\"sm\" v-on:click=\"pagedec\"><i class=\"fas fa-arrow-left fa-3x\"></i></mdb-btn>\n                            </mdb-col>\n                            <mdb-col sm=\"4\" class=page>\n                            <H1>{{current_page}}</H1>\n                            </mdb-col>\n                            <mdb-col sm=\"4\" class=nav-right>                           \n                                <mdb-btn color=\"tertiary\" title=\"Next Page\" size=\"sm\" v-on:click=\"pageinc\"><i class=\"fas fa-arrow-right fa-3x\"></i></mdb-btn>\n                            </mdb-col>\n                        </mdb-row>\n                        <mdb-row class=\"button_grid mt-4 mb-4\" v-bind:key=\"launcher_items.length\">\n\n                                <div v-for=\"i in 16\" v-bind:key=\"i\" v-bind:style=\"{\n                                    backgroundColor: ((launcher_items[(i-1)+(current_page*16)] !== undefined &&\n                                    launcher_items[(i-1)+(current_page*16)].colour !== undefined) ?\n                                    launcher_items[(i-1)+(current_page*16)].colour : 'gray'),\n                                    filter: (i-1 === current_index) ? 'drop-shadow(gray 0px 0px 5px)': ''\n                                    }\" class=\"butt\" type=\"button\" style=\"color:transparent\" v-bind:id=\"(i-1)+(current_page*16)\" v-on:click=\"buttonClick\"></div>\n\n                        </mdb-row>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n            <mdb-col md=\"6\">\n                <mdb-card class=\"mb-4\">\n                    <mdb-card-header>Configure home screen buttons</mdb-card-header>\n                    <mdb-card-body v-if=\"current_index >= 0\">\n                        <span>Currently configured app</span>\n                        <select class=\"browser-default custom-select\" v-model=\"current_app_slug\" v-on:change=\"update_current_launcher_item\">\n                            <option value=\"none\"><b>No app</b></option>\n                            <option v-for=\"app_name in local_apps\" v-bind:key=\"app_name\" v-bind:value=\"app_name\">{{app_name}}</option>\n                        </select>\n                        <div v-if=\"current_app !== undefined\" class=\"mt-3\">\n                            <p><strong>{{ current_app.name }}</strong></p>\n                            <vue-markdown v-bind:source=\"current_app.description\"></vue-markdown>\n                            <p v-if=\"store_apps.filter((val) => val.name === current_app.name).length == 1 && parseInt(store_apps.filter((val) => val.name === current_app.name)[0].revision) !== current_app.revision\">An update is available for this app\n                            <mdb-btn color=\"primary\" size=\"sm\" v-if=\"parseInt(store_apps.filter((val) => val.name === current_app.name)[0].revision) !== current_app.revision\" v-bind:class=\"{disabled: installing}\" v-on:click=\"install_app(current_app.slug, is_update=true)\">Install</mdb-btn>\n                            </p>\n                        </div>\n\n                        <sketch-picker v-model=\"color_picker\" @input=\"update_current_colour\" />\n\n                    </mdb-card-body>\n                    <mdb-card-body v-else>\n                        <span>Here you can connect apps to buttons on the homescreen you see when your badge starts up. Select a button to configure on the left.</span>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n        </mdb-row> -->\n        <mdb-row>\n            <mdb-col md=\"12\">\n                <mdb-card class=\"mb-4\">\n                    <mdb-card-header>Install apps from app store</mdb-card-header>\n                    <mdb-card-body>\n                        <mdb-row>\n                            <mdb-col sm=\"6\" md=\"3\">\n                                <span>Filter category</span>\n                                <select class=\"browser-default custom-select\" v-model=\"selected_store_category\">\n                                    <option v-for=\"category in categories\" v-bind:key=\"category\" v-bind:value=\"category\">{{category}}</option>\n                                </select>\n                            </mdb-col>\n                            <mdb-col sm=\"6\" md=\"3\">\n                                <span>Filter development state</span>\n                                <select class=\"browser-default custom-select\" v-model=\"selected_store_state\">\n                                    <option v-for=\"state in states\" v-bind:key=\"state\" v-bind:value=\"state\">{{state}}</option>\n                                </select>\n                            </mdb-col>\n                            <mdb-col sm=\"6\">\n                                <span>Apps uploaded to {{ hatchery_url }} will automatically show up here for everyone. Be sure to upload yours! :)</span>\n                            </mdb-col>\n                        </mdb-row>\n\n                        <mdb-tbl class=\"table-striped\">\n                            <thead>\n                            <tr><th>App name</th><th>Description</th><th>Category</th><th>State</th><th>Author</th><th>Revision</th><th>Install</th></tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"app in filtered_store_apps\" v-bind:key=\"app.slug\">\n                                    <th scope=\"row\">{{ app.name }}</th>\n                                    <td>{{ app.description }}</td>\n                                    <td>{{ app.category }}</td>\n                                    <td>{{ app.status }}</td>\n                                    <td>{{ app.author || 'Unknown' }}</td>\n                                    <td>{{ app.revision }}</td>\n                                    <td>\n                                        <mdb-btn color=\"primary\" size=\"sm\" v-bind:class=\"{disabled: installing}\" v-on:click=\"install_app(app.slug)\" v-if=\"local_apps.indexOf(app.slug) === -1\">Install</mdb-btn>\n                                        <mdb-btn color=\"red\" size=\"sm\" v-on:click=\"uninstall_app(app.slug)\" v-else>Uninstall</mdb-btn>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </mdb-tbl>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n        </mdb-row>\n    </section>\n</template>\n\n<script>\n    import {\n        mdbRow,\n        mdbCol,\n        mdbBtn,\n        mdbTbl,\n        mdbProgress,\n        mdbModal,\n        mdbModalBody,\n        mdbCard,\n        mdbCardBody,\n        mdbCardHeader,\n    } from 'mdbvue';\n\n    import VueMarkdown from 'vue-markdown';\n    import {Sketch} from 'vue-color';\n    import {on_connect, readfile, createfolder, savefile, fetch_dir, deldir, savetextfile} from '../badgecomm';\n    import {badges} from '../badge_configs';\n    import * as pako from 'pako';\n    import * as untar from 'js-untar';\n    window.pako = pako;\n    window.untar = untar;\n    window.VueMarkdown = VueMarkdown;\n\n    let component = undefined;\n\n    export default {\n        name: 'Apps',\n        components: {\n            mdbRow,\n            mdbCol,\n            mdbBtn,\n            mdbTbl,\n            mdbProgress,\n            mdbModal,\n            mdbModalBody,\n            mdbCard,\n            mdbCardBody,\n            mdbCardHeader,\n            // 'vue-markdown': VueMarkdown,\n            // 'sketch-picker': Sketch,\n        },\n        beforeMount() {\n            component = this;\n            (async () => {\n                await on_connect();\n                component.repo_name = 'tidal';\n                const badge_repo_name = (await transceive('import consts;print(consts.INFO_HARDWARE_WOEZEL_NAME)')).trim();\n                if (badge_repo_name != component.repo_name) {\n                    console.error(`Badge repo_name ${badge_repo_name} does not match ${component.repo_name}`);\n                    component.$emit('genNotification', `Your badge identifies itself as a different model. Apps may not work as expected.`);\n                }\n                let contents = await readfile('/flash/config/system-launcher_items.json', );\n                let launcher_items;\n                try {\n                    launcher_items = JSON.parse(contents);\n                } catch {\n                    launcher_items = {};\n                }\n                component.launcher_items = launcher_items;\n                await component.update_local_apps();\n\n                let basket_url = 'https://' + component.hatchery_url + '/basket/' + component.repo_name + '/list/json';\n                fetch(basket_url, {mode:'cors'})\n                    .then(response => {response.json().then((apps) => {\n                        component.store_apps = apps;\n                        for(let app of apps) {\n                            if(component.categories.indexOf(app.category) === -1) {\n                                component.categories.push(app.category);\n                            }\n                            if(component.states.indexOf(app.status) === -1) {\n                                component.states.push(app.status);\n                            }\n                        }\n                    })});\n                })();\n        },\n        methods: {\n            update_local_apps: async () => {\n                let install_paths = ['/flash/apps'];\n                let apps = [];\n\n                for(let path of install_paths) {\n                    let dir = await fetch_dir(path);\n                    if (dir == \"\") {\n                        return;\n                    }\n\n                    let dir_contents = dir.split('\\n');\n                    for (let item of dir_contents) {\n                        if(item[0] !== 'd') { continue; }\n                        apps.push(item.substr(1));\n                    }\n                }\n                component.local_apps = apps;\n            },\n            get_local_app_metadata: async (app_slug, install_path='/flash/apps/') => {\n                let contents = await readfile(install_path + app_slug + '/metadata.json');\n                let metadata;\n                try {\n                    metadata = JSON.parse(contents);\n                } catch {\n                    metadata = {};\n                }\n                return {\n                    ...metadata,\n                    slug: app_slug\n                };\n            },\n            get_app_metadata: async (app_slug) => {\n                if (/[/\\\\#?]/.test(app_slug)) {\n                    console.error(`app_slug ${app_slug} contains invalid characters`);\n                    component.$emit('genNotification', `This app name contains invalid characters and cannot be loaded`);\n                    return;\n                }\n                let metadata_url = 'https://' + component.hatchery_url + '/eggs/get/' + app_slug + '/json';\n                let response = await fetch(metadata_url);\n                let metadata = await response.json();\n                let release_keys = Object.keys(metadata.releases).sort((a, b) => parseInt(a) - parseInt(b));\n                let latest_release_key = release_keys[release_keys.length-1];\n                metadata['latest_release_url'] = metadata.releases[latest_release_key][0]['url'];\n                return metadata;\n            },\n            install_app: async (app_slug, is_update=false, install_path='/flash/apps/') => {\n                component.installing_file = '';\n                component.installing_progress = 0;\n                component.installing = true;\n                try {\n                    let metadata = await component.get_app_metadata(app_slug);\n                    let response = await fetch(metadata.latest_release_url);\n                    let tar_gz = await response.arrayBuffer();\n                    let tar = pako.inflate(tar_gz);\n                    let files = await untar(tar.buffer);\n\n                    let paths = [];\n                    for (let file of files) {\n                        let dirs = file.name.split('/');\n                        dirs.pop();\n                        for (let i = 1; i <= dirs.length; i++) {\n                            paths.push(install_path + dirs.slice(0, i).join('/'));\n                        }\n                    }\n\n                    if (!is_update) {\n                        let unique_paths = paths.filter((value, index, self) => self.indexOf(value) === index);\n                        for (let path of unique_paths) {\n                            console.info('Creating folder', path);\n                            await createfolder(path);\n                        }\n                    }\n\n                    for (let [i, file] of files.entries()) {\n                        let path = install_path + file.name;\n                        console.info('Writing file', path);\n                        component.installing_file = path;\n                        component.installing_progress = Math.floor((i / (files.length-1)) * 100);\n                        await savefile(path, file.buffer);\n                    }\n\n                    if (is_update) {\n                        component.current_app = await component.get_local_app_metadata(app_slug, install_path);\n                    } else {\n                        component.local_apps.push(app_slug);\n                    }\n                    component.$emit('genNotification', 'Installed ' + metadata.name + ' successfully');\n                } catch(error) {\n                    console.error('Error installing ' + app_slug, error);\n                    try {\n                        await deldir(install_path + app_slug);\n                    } catch(error) {\n                        console.error('Error removing app dir for ' + app_slug, error);\n                    }\n                    component.$emit('genNotification', 'Failed to install ' + app_slug + '. Please try again.');\n                } finally {\n                    component.installing = false;\n                }\n            },\n            uninstall_app: async (app_slug, install_path='/flash/apps/') => {\n                try {\n                    await deldir(install_path+app_slug);\n                    component.$emit('genNotification', 'Uninstalled ' + app_slug + ' successfully');\n                } catch {\n                    component.$emit('genNotification', 'Uninstalled ' + app_slug + ' not successfully', 'exclamation');\n                }\n                component.update_local_apps();\n            },\n            buttonClick: async (event) => {\n                let index = parseInt(event.target.id) ;\n                component.current_index = index;\n                if(!(index in component.launcher_items)) {\n                    component.current_app = undefined;\n                    component.current_app_slug = 'none';\n                } else {\n                    let launcher_item = component.launcher_items[index.toString()];\n                    component.color_picker = component.current_colour = launcher_item.colour;\n                    component.current_app_slug = launcher_item.slug;\n                    component.current_app = await component.get_local_app_metadata(launcher_item.slug);\n                }\n            },\n            update_current_colour: (colour) => {\n                clearTimeout(component.timeout_colorpicker);\n                component.timeout_colorpicker = setTimeout(() => {\n                    component.current_colour = colour.hex;\n                    component.update_current_launcher_item();\n                }, 800);\n            },\n            update_current_launcher_item: async () => {\n                let index = component.current_index;\n                let slug = component.current_app_slug;\n                if (slug === 'none') {\n                    delete component.launcher_items[index.toString()];\n                } else {\n                    let app = await component.get_local_app_metadata(slug);\n                    component.current_app = app;\n                    component.launcher_items[index.toString()] = {\n                        slug,\n                        name: app.name,\n                        colour: component.current_colour,\n                    };\n                }\n                await savetextfile('/flash/config/system-launcher_items.json', JSON.stringify(component.launcher_items));\n                component.$emit('genNotification', 'Updated homescreen');\n            },\n            pageinc: () => {\n                component.current_page += 1;\n            },\n            pagedec: () => {\n                if(component.current_page > 0) {\n                     component.current_page -= 1;\n                }\n            }\n        },\n        data() {\n            return {\n                repo_name: 'generic',\n                timeout_colorpicker: null,\n                current_page: 0,\n                current_index: -1,\n                current_app: undefined,\n                current_app_slug: undefined,\n                current_colour: '#4A90E2',\n                launcher_items: {},\n                local_apps: [],\n                store_apps: [],\n                selected_store_category: 'all',\n                selected_store_state: 'working',\n                categories: ['all'],\n                states: ['working', 'all'],\n                installing: false,\n                installing_file: '',\n                installing_progress: 0,\n                color_picker: '007F7F'\n            }\n        },\n        computed: {\n            filtered_store_apps: () => {\n                if(component.selected_store_category === 'all' && component.selected_store_state === 'all') {\n                    return component.store_apps;\n                }\n                return component.store_apps.filter((app) =>\n                    (component.selected_store_category === 'all' || app.category === component.selected_store_category) &&\n                    (component.selected_store_state === 'all' || app.status === component.selected_store_state));\n            },\n            hatchery_url() {\n                if (badges[component.repo_name] && badges[component.repo_name]['hatchery_url']) {\n                    return badges[component.repo_name]['hatchery_url'];\n                }\n\n                return badges['generic']['hatchery_url'];\n            },\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .cascading-admin-card {\n        margin: 20px 0;\n    }\n\n    .cascading-admin-card .admin-up {\n        margin-left: 4%;\n        margin-right: 4%;\n        margin-top: -20px;\n    }\n\n    .cascading-admin-card .admin-up .fas,\n    .cascading-admin-card .admin-up .far {\n        box-shadow: 0 2px 9px 0 rgba(0, 0, 0, 0.2), 0 2px 13px 0 rgba(0, 0, 0, 0.19);\n        padding: 1.7rem;\n        font-size: 2rem;\n        color: #fff;\n        text-align: left;\n        margin-right: 1rem;\n        border-radius: 3px;\n    }\n\n    .cascading-admin-card .admin-up .data {\n        float: right;\n        margin-top: 2rem;\n        text-align: right;\n    }\n\n    .admin-up .data p {\n        color: #999999;\n        font-size: 12px;\n    }\n\n    .classic-admin-card .card-body {\n        color: #fff;\n        margin-bottom: 0;\n        padding: 0.9rem;\n    }\n\n    .classic-admin-card .card-body p {\n        font-size: 13px;\n        opacity: 0.7;\n        margin-bottom: 0;\n    }\n\n    .classic-admin-card .card-body h4 {\n        margin-top: 10px;\n    }\n\n\n    .butt {\n        content: \"\";\n        border: 0px;\n        padding-bottom: 100%;\n        display: block;\n        width:100%;\n        cursor:pointer;\n        border-radius: 10px;\n        transition: .5s ease;\n        backface-visibility: hidden;\n        margin: 0 auto;\n    }\n\n    .butt:hover {\n        opacity: 0.3;\n        color:white;\n    }\n\n    .button_grid {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        grid-row-gap: 3.5%;\n        grid-column-gap: 3.5%;\n    }\n\n    .header {\n        margin: 10px;\n    }\n\n    .nav-left {\n        text-align: left;\n        float:left; /* add this */\n    }\n    .nav-right {\n        text-align: right;\n    }\n\n    .badge_container {\n        width: 80%;\n        display: block;\n        padding-bottom: 15%;\n        margin: 0 auto;\n    }\n\n    .page {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Apps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Apps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Apps.vue?vue&type=template&id=88f0b2e8&scoped=true&\"\nimport script from \"./Apps.vue?vue&type=script&lang=js&\"\nexport * from \"./Apps.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Apps.vue?vue&type=style&index=0&id=88f0b2e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88f0b2e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"programming\"}},[_c('mdb-card',{staticClass:\"mb-4\",attrs:{\"ondrop\":\"itemDrop\"}},[_c('mdb-card-body',[_c('section',[_c('mdb-row',[_c('mdb-col',{attrs:{\"sm\":\"6\",\"md\":\"4\",\"lg\":\"3\"}},[_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Make app\",\"icon\":\"plus\"},on:{\"click\":function($event){return _vm.mkapp_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Make folder\",\"icon\":\"folder-plus\"},on:{\"click\":function($event){return _vm.mkdir_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Make file\",\"icon\":\"file\"},on:{\"click\":function($event){return _vm.mkfile_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Rename file\",\"icon\":\"file-alt\"},on:{\"click\":function($event){return _vm.rename_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Delete file\",\"icon\":\"trash\"},on:{\"click\":function($event){return _vm.trash_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Download folder\",\"icon\":\"download\"},on:{\"click\":function($event){return _vm.download_ui()}}})],1),_c('mdb-col',{attrs:{\"sm\":\"2\",\"md\":\"2\",\"lg\":\"2\"}},[_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Run file\",\"icon\":\"play\"},on:{\"click\":function($event){return _vm.runfile_ui()}}}),_c('mdb-btn',{attrs:{\"color\":\"gray\",\"size\":\"lg\",\"title\":\"Save file\",\"icon\":\"save\"},on:{\"click\":function($event){return _vm.save_ui()}}})],1),_c('mdb-col',{staticClass:\"mt-2\",attrs:{\"sm\":\"4\",\"md\":\"6\",\"lg\":\"7\"}},[_c('mdb-input',{attrs:{\"label\":\"Filename\",\"size\":\"md\"},model:{value:(_vm.editorfilename),callback:function ($$v) {_vm.editorfilename=$$v},expression:\"editorfilename\"}})],1)],1),_c('mdb-row',{staticClass:\"mt-3\"},[_c('mdb-col',{attrs:{\"sm\":\"6\",\"md\":\"4\",\"lg\":\"3\"}},[_c('v-jstree',{attrs:{\"data\":_vm.files,\"draggable\":\"\",\"multiple\":\"\",\"allow-batch\":\"\",\"whole-row\":\"\"},on:{\"item-click\":_vm.itemClick,\"item-toggle\":_vm.itemToggle,\"item-drop-before\":_vm.itemDrop,\"item-drop\":_vm.otherDrop,\"item-drag-start\":_vm.itemDragStart}})],1),_c('mdb-col',{attrs:{\"sm\":\"6\",\"md\":\"8\",\"lg\":\"9\"}},[_c('editor',{attrs:{\"lang\":\"python\",\"theme\":\"monokai\",\"height\":\"500\"},model:{value:(_vm.content_editor),callback:function ($$v) {_vm.content_editor=$$v},expression:\"content_editor\"}})],1)],1)],1)])],1),_c('mdb-card',{staticClass:\"mb-4\"},[_c('mdb-card-body',[_c('section',[_vm._v(\" Python terminal \"),_c('div',{staticClass:\"md-form\"},[_c('Terminal',{ref:\"terminal\",on:{\"data\":_vm.commandpython}})],1)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"xterm\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"xterm\"></div>\n</template>\n<script>\n    import { Terminal } from 'xterm';\n    import { FitAddon } from 'xterm-addon-fit';\n    import 'xterm/css/xterm.css';\n\n    export default {\n        data() {\n            return {\n                terminal: null,\n                fitAddon: null,\n                charCount: 0,\n            }\n        },\n        mounted() {\n            this.terminal = new Terminal({\n                convertEol: true,\n            });\n            this.fitAddon = new FitAddon();\n            this.terminal.loadAddon(this.fitAddon);\n            this.terminal.open(this.$el);\n            this.terminal.write(\">>> \");\n            this.fitAddon.fit();\n            window.addEventListener('resize', this.handleResize);\n\n            this.terminal.onData((data) => {\n                this.$emit('data', data);\n            });\n        },\n        beforeDestroy() {\n            window.removeEventListener('resize', this.handleResize)\n            this.terminal.dispose();\n        },\n        methods: {\n            handleResize(event) {\n                this.fitAddon.fit();\n            },\n            handleLog(str) {\n                // console.log('handleLog');\n                this.terminal.write(str.replace('\\n', '\\r\\n'));\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Terminal.vue?vue&type=template&id=69dc9e0d&\"\nimport script from \"./Terminal.vue?vue&type=script&lang=js&\"\nexport * from \"./Terminal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section id='programming'>\n    <mdb-card class='mb-4' ondrop='itemDrop'>\n      <mdb-card-body>\n        <section>\n          <mdb-row>\n            <mdb-col sm='6' md='4' lg='3'>\n              <mdb-btn color='gray' size='lg' title='Make app' v-on:click='mkapp_ui()' icon='plus'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Make folder' v-on:click='mkdir_ui()' icon='folder-plus'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Make file' v-on:click='mkfile_ui()' icon='file'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Rename file' v-on:click='rename_ui()' icon='file-alt'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Delete file' v-on:click='trash_ui()' icon='trash'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Download folder' v-on:click='download_ui()' icon='download'></mdb-btn>\n            </mdb-col>\n            <mdb-col sm='2' md='2' lg='2'>\n              <mdb-btn color='gray' size='lg' title='Run file' v-on:click='runfile_ui()' icon='play'></mdb-btn>\n              <mdb-btn color='gray' size='lg' title='Save file' v-on:click='save_ui()' icon='save'></mdb-btn>\n            </mdb-col>\n            <mdb-col sm='4' md='6' lg='7' class=\"mt-2\">\n              <mdb-input label=\"Filename\" v-model=\"editorfilename\" size=\"md\"/>\n            </mdb-col>\n          </mdb-row>\n          <mdb-row class='mt-3'>\n            <mdb-col sm='6' md='4' lg='3'>\n              <v-jstree :data='files' draggable multiple allow-batch whole-row @item-click='itemClick' @item-toggle='itemToggle' @item-drop-before='itemDrop' @item-drop='otherDrop' @item-drag-start='itemDragStart'></v-jstree>\n            </mdb-col>\n            <mdb-col sm='6' md='8' lg='9'>\n              <editor v-model='content_editor' lang='python' theme='monokai' height='500'></editor>\n            </mdb-col>\n          </mdb-row>\n          </section>\n      </mdb-card-body>\n    </mdb-card>\n      <mdb-card class='mb-4'>\n      <mdb-card-body>\n        <section>\n              Python terminal\n              <div class=\"md-form\">\n                  <Terminal ref=\"terminal\" v-on:data=\"commandpython\"></Terminal>\n              </div>\n        </section>\n      </mdb-card-body>\n    </mdb-card>\n  </section>\n</template>\n\n<script>\nwindow.itemDrop = function() {\n  console.log('nope')\n};\n\nimport {mdbToastNotification, mdbBtn, mdbCard, mdbCardBody, mdbCol, mdbRow, mdbInput} from 'mdbvue';\nimport VJstree from 'vue-jstree';\n  import {connect, on_connect, runfile, readfile, savefile, fetch_dir, createfolder, savetextfile, movefile, delfile, deldir, createfile, registerstdout, writetostdin, downloaddir} from '../badgecomm';\nimport * as $ from 'jquery';\nimport * as ace from 'brace';\nimport 'brace/mode/python';\nimport 'brace/theme/monokai';\nimport * as ace_editor from 'vue2-ace-editor';\nimport { saveAs } from 'file-saver';\nimport * as JSZip from 'jszip';\nimport { default as Terminal } from './Terminal'\n\nlet component = undefined;\nlet selected_item = {model:{}};\nlet beforemoveloc = undefined;\n\n\nconst extension_whitelist = [\"txt\", \"csv\", \"json\", \"py\", \"ini\", \"info\", \"md\", \"log\", \"conf\", \"cfg\"];\n\nfunction commandlog(str) {\n  if(component && component.$refs && component.$refs.terminal) {\n    component.$refs.terminal.handleLog(str);\n  }\n}\n\nexport default {\n  name: 'Programming',\n  components: {\n    mdbBtn,\n    mdbRow,\n    mdbCol,\n    mdbCard,\n    mdbCardBody,\n    mdbInput,\n    VJstree,\n    editor:ace_editor,\n    Terminal,\n  },\n  beforeMount() {\n    component = this;\n    // Auto-fetch /flash\n    registerstdout(commandlog);\n    on_connect().then(async () => {await transceive('from upysh import *'); this.itemClick({model: this.files[0]})});\n  },\n  methods: {\n    parseDir: (data) => {\n          let dir_structure = data.split('\\n');\n          console.log(dir_structure);\n          let data_structure = [];\n          let parent_path = dir_structure[0] === '/' ? '': dir_structure[0];\n          for(let i = 1; i < dir_structure.length; i++) {\n              let is_dir = dir_structure[i].charAt(0) === \"d\";\n              let child = {};\n              child[\"text\"] = dir_structure[i].substr(1);\n              child[\"full_path\"] = parent_path + '/' + child[\"text\"];\n              if(is_dir) {\n                  if(dir_structure[i] === \"dflash\") {\n                      child[\"icon\"] = \"fas fa-microchip\";\n                  } else if(dir_structure[i] === \"dsdcard\") {\n                      child[\"icon\"] = \"fas fa-sd-card\";\n                  } else {\n                      child[\"icon\"] = \"far fa-folder\";\n                  }\n                  child[\"is_dir\"] = true;\n                  child[\"dragDisabled\"] = true;\n              } else {\n                  child[\"icon\"] = \"far fa-file\";\n              }\n              child[\"opened\"] = false;\n              child[\"disabled\"] = false;\n              child[\"selected\"] = false;\n              if(is_dir) {\n                  child[\"children\"] = [{text:'Click parent to refresh', icon: 'none', isDummy: true}];\n              }\n              data_structure.push(child);\n          }\n          return data_structure;\n    },\n    updateNode:(node) => {\n      let model = node.model;\n      if(node.model.is_dir) {\n        console.log(\"Updating: \"+node.model.full_path);\n        fetch_dir(model.full_path).then(data => {\n          let children = component.parseDir(data);\n          //Check for deleted items\n          for(let i = 0; i < children.length; i++) {\n            for (let origitem of model.children) {\n              if(origitem.full_path === children[i].full_path) {\n                children[i] = origitem;\n              }\n            }\n          }\n          console.log(children);\n          model.children = children;\n          model.opened = true;\n        });\n      } else {\n        let parts = node.model.full_path.split(\".\");\n        if(parts.length > 1 && extension_whitelist.indexOf(parts[parts.length-1].toLowerCase()) >= 0) {\n          if(component.content_editor === component.content_original || window.confirm(\"Unsaved changes will be lost. Are you sure?\")) {\n            readfile(node.model.full_path).then((contents) => {\n              component.content_editor = contents;\n              component.content_original = contents;\n              component.editorfilename = node.model.full_path;\n              component.$emit('genNotification', 'Load success', 'Load success', 'check', 'green', 30);\n              });\n          }\n        }        \n      }\n    },\n    itemClick:(node) => {\n      selected_item.model.selected = false;\n      node.model.selected = true;\n      selected_item = node;\n      component.updateNode(node);      \n    },\n    itemToggle:(node) => {\n      if (!node.data.is_dir) {\n        return;\n      }\n      // Run only once\n      if (!node.data.children.length || !node.data.children[0].isDummy) {\n        return;\n      }\n      // And only for opened windows (this event gets fired twice)\n      if (!node.data.opened) {\n        return;\n      }\n      // And only for items we haven't seen before\n      if (node.data.isToggled === true) {\n        return;\n      }\n\n      node.data.isToggled = true;\n      component.updateNode(node);\n    },\n    otherDrop: (node, item, d, e) => {\n\n    },\n    itemDrop: (node, item, draggedItem, e) => {\n      if(draggedItem == undefined) {\n        console.log(\"file upload\");\n        console.log(e);\n        let entry = node.model.is_dir ? node : node.$parent;\n        let path = entry.model.full_path;\n        for(let index = 0; index < e.dataTransfer.files.length; index++) {\n          let item = e.dataTransfer.files[index];\n          let reader = new FileReader();\n          reader.onload = async function (event) {\n            console.log(reader.result);\n            await savefile(path+\"/\"+item.name,reader.result);\n            if(index == e.dataTransfer.files.length) {\n              component.updateNode(entry);\n            }\n          };\n          console.log(item);         \n          reader.readAsArrayBuffer(item);\n        }        \n      } else {\n        console.log(\"drop\");\n        console.log(node);\n        if(draggedItem.is_dir) return;\n        let entry = node.model.is_dir ? node : node.$parent;\n        let path = entry.model.full_path;\n        let source = draggedItem.full_path;\n        let destination = path + \"/\" + draggedItem.text;\n        movefile(source, destination);            \n        component.updateNode(beforemoveloc);\n        component.updateNode(entry);\n      }\n                  \n    },\n    itemDragStart: (node, item, e) => {\n      let entry = node.model.is_dir ? node : node.$parent;\n      console.log(\"Start:\");\n      console.log(entry);\n      beforemoveloc = entry;\n    },\n    trash_ui: async () => {\n      let file = selected_item.model.full_path;\n      if(confirm(\"Delete: \" + file + \"?\")) {\n        if(selected_item.model.is_dir) {\n          await deldir(file);\n          if(file == component.editorfilename.substr(0, file.length)) {\n            component.editorfilename = '/flash/cache/scratch.py';\n            component.content_editor = '';\n            component.content_original = '';\n          } \n        } else {\n          delfile(file);\n          component.editorfilename = '/flash/cache/scratch.py';\n          component.content_editor = '';\n          component.content_original = '';\n        }               \n        component.itemClick(selected_item.$parent); // Refresh parent directory\n      }\n    },\n    download_ui: async () => {\n      if(selected_item.model.is_dir) {\n        let file = selected_item.model.full_path;\n        let zip = await downloaddir(file);\n        zip.generateAsync({type:\"blob\"})\n        .then(function (blob) {\n            saveAs(blob, \"download.zip\");\n            component.$emit('genNotification','Download success', 'Download success', 'check', 'green', 30);\n        });\n      } else {\n        component.$emit('genNotification', 'Can only download folder','Download failed','times', 'red', 30);\n      }\n    },\n    save_ui: async () => {\n      let parts = component.editorfilename.split(\".\");\n      if((parts.length > 1 && extension_whitelist.indexOf(parts[parts.length-1].toLowerCase()) >= 0) || window.confirm(\"File: \"+component.editorfilename+\" has not a textfile extension\")) {\n        await savetextfile(component.editorfilename, component.content_editor);\n        component.content_original = component.content_editor;\n        component.updateNode(selected_item.$parent);\n        component.$emit('genNotification','Save success', 'Save success', 'check', 'green', 30);\n      }\n    },\n    rename_ui: () => {\n      if(selected_item.model.is_dir){ return; }\n\n      let path = selected_item.model.full_path;\n      let parent_path = selected_item.$parent.model.full_path;\n\n      let filename = prompt(\"Please enter new filename\", \"\");\n      if (filename != null) {\n        movefile(path, parent_path + '/' + filename);\n        if(path === component.editorfilename) {\n          component.editorfilename = parent_path + '/' + filename ;\n        }\n        component.itemClick(selected_item.$parent); // Refresh parent directory\n      }\n    },\n    mkapp_ui: () => {\n      let app_name = prompt(\"Please enter new app id (letters only)\", \"\");\n      createfolder('/apps');\n      \n      if(app_name) {\n        let class_name = app_name.charAt(0).toUpperCase() + app_name.slice(1);\n        createfolder('/apps/' + app_name);\n        savetextfile('/apps/' + app_name + '/__init__.py', `import app\\r\\n\\r\\nclass ${class_name}(app.TextApp):\\r\\n\\r\\n    def on_activate(self):\\r\\n        super().on_activate()\\r\\n        self.window.println(\"Hello world\")\\r\\n\\r\\nmain = ${class_name}\\r\\n# This will show in your badge launcher as ${app_name}`);\n      }\n    },\n    mkdir_ui: () => {\n      let dirname = prompt(\"Please enter new directory name\", \"\");\n      let entry = selected_item.model.is_dir ? selected_item : selected_item.$parent;\n      let path = entry.model.full_path;\n      if(dirname) {\n        createfolder(path + '/' + dirname);\n        component.itemClick(entry); // Refresh parent directory\n      }\n    },\n    mkfile_ui: () => {\n      let filename = prompt(\"Please enter new filename\", \"\");\n      let entry = selected_item.model.is_dir ? selected_item : selected_item.$parent;\n      let path = entry.model.full_path;\n      if(filename) {\n        createfile(path + '/' + filename);\n        component.itemClick(entry); // Refresh parent directory\n      }\n    },\n    runfile_ui: async () => {\n      if(component.content_editor !== component.content_original) {\n        await savetextfile(component.editorfilename, component.content_editor);\n        component.content_original = component.content_editor;\n      }\n      let import_name = component.editorfilename.replace('/flash/', '/').replace('/__init__.py', '').replace('.py', '')\n      if (import_name.length > 1 && import_name[0] === '/') {\n        import_name = import_name.substr(1);\n      }\n      import_name = import_name.replace('/', '.')\n\n      runfile(import_name);\n    },\n    info() {\n\n    },\n    commandpython(e) {\n      writetostdin(e);\n    },\n    connect:connect,\n  },\n  data () {\n    return {\n      content_editor:'',\n      content_original:'',\n      editorfilename:'/flash/cache/scratch.py',\n      show: true,\n      files: [\n        {\n          text: 'flash',\n          full_path: '/flash',\n          icon: 'fas fa-microchip',\n          is_dir: true,\n          children: [{text:'Click parent to refresh', icon: 'none', isDummy: true}]\n        },\n        // {\n        //   text: 'sdcard',\n        //   full_path: '/sdcard',\n        //   icon: 'fas fa-sd-card',\n        //   is_dir: true,\n        //   children: [{text:'Click parent to refresh', icon: 'none', isDummy: true}]\n        // }\n      ]\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n  .profile-card-footer {\n    background-color: #F7F7F7 !important;\n    padding: 1.25rem;\n  }\n  .card.card-cascade .view {\n    box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.15), 0 3px 12px 0 rgba(0, 0, 0, 0.15);\n  }\n  .btn.btn-lg {\n    padding: .5rem .5rem !important;\n  }\n  .md-form {\n   margin: 0 0 0 0;\n  }\n  input .input-lg {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n  textarea {\n    width:100%;\n    height:400px;\n  }\n</style>\n\n<style>\n  .md-form .form-control {\n    margin-bottom: 0;\n  }\n  .tree-selected {\n    background: #eee !important;\n  }\n</style>\n","<template>\n    <section id=\"settings\">\n        <mdb-row>\n            <mdb-col sm=\"12\" xl=\"6\">\n                <mdb-card class=\"mt-4\">\n                    <mdb-card-header>WiFi Settings</mdb-card-header>\n                    <mdb-card-body>\n                        <form>\n                            <div class=\"grey-text\">\n                                <mdb-input v-model=\"wifi_ssid\" label=\"Access Point name (SSID)\" icon=\"wifi\" type=\"email\"/>\n                                <mdb-input v-model=\"wifi_password\" label=\"Password\" icon=\"lock\" type=\"password\"/>\n                            </div>\n                        </form>\n                        <mdb-btn color=\"primary\" v-on:click=\"save_wifi\">Save</mdb-btn>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n\n            <!-- <mdb-col sm=\"12\" xl=\"6\">\n                <mdb-card class=\"mt-4\">\n                    <mdb-card-header>Audio Settings</mdb-card-header>\n                    <mdb-card-body>\n                        <div class=\"grey-text\">\n                            <p>Volume: {{volume}}</p>\n                            <input type=\"range\" min=\"0\" max=\"255\" class=\"custom-range\" v-model=\"volume\">\n                        </div>\n                        <mdb-btn color=\"primary\" v-on:click=\"save_audio\">Save</mdb-btn>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col> -->\n\n            <mdb-col sm=\"12\" xl=\"6\" v-for=\"app_slug in app_slugs\" v-bind:key=\"app_slug\">\n                <mdb-card class=\"mt-4\">\n                    <mdb-card-header>App - {{app_slug}}</mdb-card-header>\n                    <mdb-card-body>\n                        <vue-json-editor v-model=\"configs[app_slug]\" :show-btns=\"false\" :expandedOnStart=\"true\" @json-change=\"onJsonChange\"></vue-json-editor>\n                        <mdb-btn color=\"primary\" v-on:click=\"save_app(app_slug)\">Save</mdb-btn>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n        </mdb-row>\n    </section>\n</template>\n\n<script>\n    import {savetextfile, runfile, readfile, delfile, fetch_dir, on_connect, writetostdin} from '../badgecomm';\n    import {mdbRow, mdbCol, mdbBtn, mdbInput, mdbCard, mdbCardHeader, mdbCardBody} from 'mdbvue';\n    import vueJsonEditor from 'vue-json-editor'\n\n    let component;\n    export default {\n        name: 'Settings',\n        beforeMount() {\n            component = this;\n            on_connect().then(() => this.update_local_apps());\n        },\n        components: {\n            mdbRow,\n            mdbCol,\n            mdbBtn,\n            mdbInput,\n            mdbCard,\n            mdbCardHeader,\n            mdbCardBody,\n            vueJsonEditor\n        },\n        methods: {\n            update_local_apps: async () => {\n                component.repo_name = (await transceive('import consts;print(consts.INFO_HARDWARE_WOEZEL_NAME)')).trim();\n                let install_paths = ['/flash/apps'];\n                let configurable_apps = [];\n\n                for(let path of install_paths) {\n                    let dir = await fetch_dir(path);\n                    let dir_contents = dir.split('\\n');\n                    for (let item of dir_contents) {\n                        if(item[0] !== 'd') { continue; }\n                        let app_slug = item.substr(1);\n                        let contents;\n                        try {\n                            contents = await readfile('/flash/config/app-' + app_slug + '.json');\n                            if(contents !== undefined && contents.length)\n                            {\n                                configurable_apps.push(app_slug);\n                                try {\n                                    component.configs[app_slug] = JSON.parse(contents);\n                                } catch {\n                                    component.configs[app_slug] = {}\n                                }\n                            }\n                        } catch { let do_nothing = 1; do_nothing++; }\n                    }\n                }\n\n                component.app_slugs = configurable_apps;\n            },\n            save_wifi: async () => {\n                if (component.repo_name == 'tidal') {\n                    await writetostdin('import settings;'+\n                        'settings.set(\"wifi_ssid\", \"' + component.wifi_ssid + '\");' +\n                        'settings.set(\"wifi_password\", \"' + component.wifi_password + '\");settings.save()\\r\\n');\n                } else {\n                    await writetostdin('import machine, system;'+\n                        'machine.nvs_setstr(\"system\", \"wifi.ssid\", \"' + component.wifi_ssid + '\");' +\n                        'machine.nvs_setstr(\"system\", \"wifi.password\", \"' + component.wifi_password + '\");\\r\\n');\n                }\n                component.$emit('genNotification', 'WiFi settings updated successfully');\n            },\n            save_audio: async () => {\n                await writetostdin('import machine, system;'+\n                    'machine.nvs_setint(\"system\", \"volume\", ' + component.volume + ')\\r\\n');\n                component.$emit('genNotification', 'Audio settings updated successfully');\n            },\n            save_app: async (app_slug) => {\n                await savetextfile('/flash/config/app-'+app_slug+'.json', JSON.stringify(component.configs[app_slug]));\n                component.$emit('genNotification', 'App settings updated successfully');\n            },\n            onJsonChange: () => {\n            }\n        },\n        data() {\n            return {\n                repo_name: 'generic',\n                wifi_ssid: '',\n                wifi_password: '',\n                app_slugs: [],\n                configs: {},\n                volume: 255\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .full {\n        height: 70vh;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programming.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programming.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Programming.vue?vue&type=template&id=3ef9d240&scoped=true&\"\nimport script from \"./Programming.vue?vue&type=script&lang=js&\"\nexport * from \"./Programming.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Programming.vue?vue&type=style&index=0&id=3ef9d240&scoped=true&lang=css&\"\nimport style1 from \"./Programming.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ef9d240\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"apps\"}},[_c('mdb-row',[_c('mdb-col',{attrs:{\"md\":\"12\"}},[_c('mdb-card',{staticClass:\"mb-4\"},[_c('mdb-card-header',[_vm._v(\"Update your badge firmware\")]),_c('mdb-card-body',[_vm._v(\" Your badge is running firmware version: \"+_vm._s(_vm.checking_badge ? 'Checking...' : _vm.badge_firmware_version)),_c('br'),_c('br'),_vm._v(\" Latest available on the server: \"+_vm._s(_vm.checking_server ? 'Checking...' : _vm.server_firmware_version)),_c('br'),_c('br'),_vm._v(\" Make sure you configure your WiFi on the Settings page first. Pressing the update button will reboot the badge. If WiFi can't connect, the LEDs will remain off. Update progress is shown with green LEDs. It's safe to disconnect the badge before and during updating, but try to do that only if the screen remains off for 30+ seconds.\"),_c('br'),_c('br'),_c('mdb-btn',{attrs:{\"color\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.update}},[_vm._v(\"Update over WiFi\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <section id=\"apps\">\n        <mdb-row>\n            <mdb-col md=\"12\">\n                <mdb-card class=\"mb-4\">\n                    <mdb-card-header>Update your badge firmware</mdb-card-header>\n                    <mdb-card-body>\n                        Your badge is running firmware version: {{checking_badge ? 'Checking...' : badge_firmware_version}}<br><br>\n\n                        Latest available on the server: {{checking_server ? 'Checking...' : server_firmware_version}}<br><br>\n\n                        Make sure you configure your WiFi on the Settings page first. Pressing the update button will reboot the badge. If WiFi can't connect, the LEDs will remain off. Update progress is shown with green LEDs. It's safe to disconnect the badge before and during updating, but try to do that only if the screen remains off for 30+ seconds.<br><br>\n\n                        <mdb-btn color=\"primary\" size=\"sm\" v-on:click=\"update\">Update over WiFi</mdb-btn>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n        </mdb-row>\n    </section>\n</template>\n\n<script>\n    import {\n        mdbRow,\n        mdbCol,\n        mdbBtn,\n        mdbTbl,\n        mdbCard,\n        mdbCardBody,\n        mdbCardHeader,\n    } from 'mdbvue';\n\n    import {Sketch} from 'vue-color';\n    import {\n        on_connect,\n        readfile,\n        createfolder,\n        savefile,\n        fetch_dir,\n        deldir,\n        savetextfile,\n        writetostdin\n    } from '../badgecomm';\n    import {badges} from '../badge_configs';\n\n    let component = undefined;\n\n    export default {\n        name: 'Update',\n        components: {\n            mdbRow,\n            mdbCol,\n            mdbBtn,\n            mdbCard,\n            mdbCardBody,\n            mdbCardHeader,\n        },\n        beforeMount() {\n            component = this;\n            let ota_version_url = badges['generic']['ota_version_url'];\n            on_connect().then(async () => {\n                component.repo_name = (await transceive('import consts;print(consts.INFO_HARDWARE_WOEZEL_NAME)')).trim();\n                let version = await transceive('import consts; consts.INFO_FIRMWARE_BUILD');\n                component.badge_firmware_version = component.repo_name == 'tidal' ? version : parseInt(version);\n                component.checking_badge = false;\n\n\n                if (badges[component.repo_name] && badges[component.repo_name]['ota_version_url']) {\n                    ota_version_url = badges[component.repo_name]['ota_version_url'];\n                }\n\n                if (component.repo_name == 'tidal') {\n                    fetch('https://api.github.com/repos/emfcamp/TiDAL-Firmware/git/refs/tags/',{mode:'cors'})\n                        .then(response => {response.json().then((versions) => {\n                            let name = versions[versions.length-1].ref.split(\"/\")[2]\n                            component.server_firmware_version = name;\n                            component.server_firmware_name = name;\n                            component.checking_server = false;\n                        })});\n                } else {\n                    fetch('https://'+ota_version_url+component.repo_name+'.txt',{mode:'cors'})\n                        .then(response => {response.json().then((version) => {\n                            component.server_firmware_version = version.build;\n                            component.server_firmware_name = version.name;\n                            component.checking_server = false;\n                        })});\n                }\n            });\n        },\n        methods: {\n            update: async (event) => {\n                writetostdin('system.ota()\\r\\n');\n            }\n        },\n        data() {\n            return {\n                repo_name: 'generic',\n                badge_firmware_version: 0,\n                badge_firmware_name: '',\n                server_firmware_version: 0,\n                server_firmware_name: '',\n                checking_badge: true,\n                checking_server: true\n            }\n        },\n        computed: {\n            filtered_store_apps: () => {\n                if(component.selected_store_category === 'all' && component.selected_store_state === 'all') {\n                    return component.store_apps;\n                }\n                return component.store_apps.filter((app) =>\n                    (component.selected_store_category === 'all' || app.category === component.selected_store_category) &&\n                    (component.selected_store_state === 'all' || app.status === component.selected_store_state));\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .cascading-admin-card {\n        margin: 20px 0;\n    }\n\n    .cascading-admin-card .admin-up {\n        margin-left: 4%;\n        margin-right: 4%;\n        margin-top: -20px;\n    }\n\n    .cascading-admin-card .admin-up .fas,\n    .cascading-admin-card .admin-up .far {\n        box-shadow: 0 2px 9px 0 rgba(0, 0, 0, 0.2), 0 2px 13px 0 rgba(0, 0, 0, 0.19);\n        padding: 1.7rem;\n        font-size: 2rem;\n        color: #fff;\n        text-align: left;\n        margin-right: 1rem;\n        border-radius: 3px;\n    }\n\n    .cascading-admin-card .admin-up .data {\n        float: right;\n        margin-top: 2rem;\n        text-align: right;\n    }\n\n    .admin-up .data p {\n        color: #999999;\n        font-size: 12px;\n    }\n\n    .classic-admin-card .card-body {\n        color: #fff;\n        margin-bottom: 0;\n        padding: 0.9rem;\n    }\n\n    .classic-admin-card .card-body p {\n        font-size: 13px;\n        opacity: 0.7;\n        margin-bottom: 0;\n    }\n\n    .classic-admin-card .card-body h4 {\n        margin-top: 10px;\n    }\n\n\n    .butt {\n        content: \"\";\n        border: 0px;\n        padding-bottom: 100%;\n        display: block;\n        width:100%;\n        cursor:pointer;\n        border-radius: 10px;\n        transition: .5s ease;\n        backface-visibility: hidden;\n        margin: 0 auto;\n    }\n\n    .butt:hover {\n        opacity: 0.3;\n        color:white;\n    }\n\n    .button_grid {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        grid-row-gap: 3.5%;\n        grid-column-gap: 3.5%;\n    }\n\n    .header {\n        margin: 10px;\n    }\n\n    .nav-left {\n        text-align: left;\n        float:left; /* add this */\n    }\n    .nav-right {\n        text-align: right;\n    }\n\n    .badge_container {\n        width: 80%;\n        display: block;\n        padding-bottom: 15%;\n        margin: 0 auto;\n    }\n\n    .page {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Update.vue?vue&type=template&id=8a0d9888&scoped=true&\"\nimport script from \"./Update.vue?vue&type=script&lang=js&\"\nexport * from \"./Update.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Update.vue?vue&type=style&index=0&id=8a0d9888&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a0d9888\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"settings\"}},[_c('mdb-row',[_c('mdb-col',{attrs:{\"sm\":\"12\",\"xl\":\"6\"}},[_c('mdb-card',{staticClass:\"mt-4\"},[_c('mdb-card-header',[_vm._v(\"WiFi Settings\")]),_c('mdb-card-body',[_c('form',[_c('div',{staticClass:\"grey-text\"},[_c('mdb-input',{attrs:{\"label\":\"Access Point name (SSID)\",\"icon\":\"wifi\",\"type\":\"email\"},model:{value:(_vm.wifi_ssid),callback:function ($$v) {_vm.wifi_ssid=$$v},expression:\"wifi_ssid\"}}),_c('mdb-input',{attrs:{\"label\":\"Password\",\"icon\":\"lock\",\"type\":\"password\"},model:{value:(_vm.wifi_password),callback:function ($$v) {_vm.wifi_password=$$v},expression:\"wifi_password\"}})],1)]),_c('mdb-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.save_wifi}},[_vm._v(\"Save\")])],1)],1)],1),_vm._l((_vm.app_slugs),function(app_slug){return _c('mdb-col',{key:app_slug,attrs:{\"sm\":\"12\",\"xl\":\"6\"}},[_c('mdb-card',{staticClass:\"mt-4\"},[_c('mdb-card-header',[_vm._v(\"App - \"+_vm._s(app_slug))]),_c('mdb-card-body',[_c('vue-json-editor',{attrs:{\"show-btns\":false,\"expandedOnStart\":true},on:{\"json-change\":_vm.onJsonChange},model:{value:(_vm.configs[app_slug]),callback:function ($$v) {_vm.$set(_vm.configs, app_slug, $$v)},expression:\"configs[app_slug]\"}}),_c('mdb-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.save_app(app_slug)}}},[_vm._v(\"Save\")])],1)],1)],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=7731d546&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=7731d546&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7731d546\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"apps\"}},[_c('mdb-row',[_c('mdb-col',{attrs:{\"md\":\"12\"}},[_c('mdb-card',{staticClass:\"mb-4\"},[_c('mdb-card-header',[_vm._v(\"Update your badge firmware\")]),_c('mdb-card-body',[_vm._v(\" This is an experimental page that you can use to recover the firmware on your Pixel. \"+_vm._s(_vm.status)+\" \"),_c('mdb-btn',{attrs:{\"color\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.recover}},[_vm._v(\"Recover your Pixel Badge\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\"use strict\";\n\nexport var inputBuffer = [];\n\nexport function addInput(value) {\n  inputBuffer = inputBuffer.concat(Array.from(value));\n}\n\nconst baudRates = [921600, 115200, 230400, 460800];\nconst flashSizes = {\n    \"512KB\": 0x00,\n    \"256KB\": 0x10,\n    \"1MB\": 0x20,\n    \"2MB\": 0x30,\n    \"4MB\": 0x40,\n    \"2MB-c1\": 0x50,\n    \"4MB-c1\": 0x60,\n    \"8MB\": 0x80,\n    \"16MB\": 0x90,\n};\n\nconst FLASH_WRITE_SIZE = 0x200;\nconst ESP32S2_FLASH_WRITE_SIZE = 0x400;\nconst FLASH_SECTOR_SIZE = 0x1000;  // Flash sector size, minimum unit of erase.\nconst ESP_ROM_BAUD = 115200;\n\nconst SYNC_PACKET = toByteArray(\"\\x07\\x07\\x12 UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU\");\nconst CHIP_DETECT_MAGIC_REG_ADDR = 0x40001000;\nconst ESP8266 = 0x8266;\nconst ESP32 = 0x32;\nconst ESP32S2 = 0x3252;\nconst ESP32_DATAREGVALUE = 0x15122500;\nconst ESP8266_DATAREGVALUE = 0x00062000;\nconst ESP32S2_DATAREGVALUE = 0x500;\n\n// Commands supported by ESP8266 ROM bootloader\nconst ESP_FLASH_BEGIN = 0x02;\nconst ESP_FLASH_DATA = 0x03;\nconst ESP_FLASH_END = 0x04;\nconst ESP_MEM_BEGIN = 0x05;\nconst ESP_MEM_END = 0x06;\nconst ESP_MEM_DATA = 0x07;\nconst ESP_SYNC = 0x08;\nconst ESP_WRITE_REG = 0x09;\nconst ESP_READ_REG = 0x0A;\n\nconst ESP_ERASE_FLASH = 0xD0;\nconst ESP_ERASE_REGION = 0xD1;\n\nconst ESP_SPI_SET_PARAMS = 0x0B;\nconst ESP_SPI_ATTACH = 0x0D;\nconst ESP_CHANGE_BAUDRATE = 0x0F;\nconst ESP_SPI_FLASH_MD5 = 0x13;\nconst ESP_CHECKSUM_MAGIC = 0xEF;\n\nconst ROM_INVALID_RECV_MSG = 0x05;\n\nconst USB_RAM_BLOCK = 0x800;\nconst ESP_RAM_BLOCK = 0x1800;\n\n// Timeouts\nconst DEFAULT_TIMEOUT = 3000;\nconst CHIP_ERASE_TIMEOUT = 600000;             // timeout for full chip erase in ms\nconst MAX_TIMEOUT = CHIP_ERASE_TIMEOUT * 2;    // longest any command can run in ms\nconst SYNC_TIMEOUT = 100;                      // timeout for syncing with bootloader in ms\nconst ERASE_REGION_TIMEOUT_PER_MB = 30000;     // timeout (per megabyte) for erasing a region in ms\nconst MEM_END_ROM_TIMEOUT = 50;\n\nconst bufferSize = 512;\nconst colors = ['#00a7e9', '#f89521', '#be1e2d'];\nconst measurementPeriodId = '0001';\n\n/**\n * @name toByteArray\n * Convert a string to a byte array\n */\nfunction toByteArray(str) {\n  let byteArray = [];\n  for (let i = 0; i < str.length; i++) {\n    let charcode = str.charCodeAt(i);\n    if (charcode <= 0xFF) {\n      byteArray.push(charcode);\n    }\n  }\n  return byteArray;\n    }\n\nexport class EspLoader {\n  constructor(logFunc, errorFunc, port, flashsize, writeToStream) {\n    this._chipfamily = null;\n    this._efuses = new Array(4).fill(0);\n    this._flashsize = flashsize * 1024 * 1024;\n    this.flashsize = flashsize;\n    this.debug = false;\n    this.IS_STUB = false;\n    this.logFunc = logFunc;\n    this.errorFunc = errorFunc;\n    this.port = port;\n    this.writeToStream = writeToStream;\n    console.log(\"Flash size:\", flashsize);\n  }\n\n  /**\n   * @name slipEncode\n   * Take an array buffer and return back a new array where\n   * 0xdb is replaced with 0xdb 0xdd and 0xc0 is replaced with 0xdb 0xdc\n   */\n  slipEncode(buffer) {\n    let encoded = [];\n    for (let byte of buffer) {\n      if (byte == 0xDB) {\n        encoded = encoded.concat([0xDB, 0xDD]);\n      } else if (byte == 0xC0) {\n        encoded = encoded.concat([0xDB, 0xDC]);\n      } else {\n        encoded.push(byte);\n      }\n    }\n    return encoded;\n  }\n\n  /**\n   * @name macAddr\n   * The MAC address burned into the OTP memory of the ESP chip\n   */\n  macAddr() {\n    let macAddr = new Array(6).fill(0);\n    let mac0 = this._efuses[0];\n    let mac1 = this._efuses[1];\n    let mac2 = this._efuses[2];\n    let mac3 = this._efuses[3];\n    let oui;\n    if (this._chipfamily == ESP8266) {\n      if (mac3 != 0) {\n        oui = [(mac3 >> 16) & 0xFF, (mac3 >> 8) & 0xFF, mac3 & 0xFF];\n      } else if (((mac1 >> 16) & 0xFF) == 0) {\n        oui = [0x18, 0xFE, 0x34];\n      } else if (((mac1 >> 16) & 0xFF) == 1) {\n        oui = [0xAC, 0xD0, 0x74];\n      } else {\n        throw(\"Couldnt determine OUI\");\n      }\n\n      macAddr[0] = oui[0];\n      macAddr[1] = oui[1];\n      macAddr[2] = oui[2];\n      macAddr[3] = (mac1 >> 8) & 0xFF;\n      macAddr[4] = mac1 & 0xFF;\n      macAddr[5] = (mac0 >> 24) & 0xFF;\n    } else if (this._chipfamily == ESP32) {\n      macAddr[0] = mac2 >> 8 & 0xFF;\n      macAddr[1] = mac2 & 0xFF;\n      macAddr[2] = mac1 >> 24 & 0xFF;\n      macAddr[3] = mac1 >> 16 & 0xFF;\n      macAddr[4] = mac1 >> 8 & 0xFF;\n      macAddr[5] = mac1 & 0xFF;\n    } else if (this._chipfamily == ESP32S2) {\n      macAddr[0] = mac2 >> 8 & 0xFF;\n      macAddr[1] = mac2 & 0xFF;\n      macAddr[2] = mac1 >> 24 & 0xFF;\n      macAddr[3] = mac1 >> 16 & 0xFF;\n      macAddr[4] = mac1 >> 8 & 0xFF;\n      macAddr[5] = mac1 & 0xFF;\n    } else {\n      throw(\"Unknown chip family\")\n    }\n    return macAddr;\n  }\n\n  /**\n   * @name _readEfuses\n   * Read the OTP data for this chip and store into this.efuses array\n   */\n  async _readEfuses() {\n    let baseAddr\n    if (this._chipfamily == ESP8266) {\n      baseAddr = 0x3FF00050;\n    } else if (this._chipfamily == ESP32) {\n      baseAddr = 0x6001A000;\n    } else if (this._chipfamily == ESP32S2) {\n      baseAddr = 0x6001A000;\n    } else {\n      throw(\"Don't know what chip this is\");\n    }\n    for (let i = 0; i < 4; i++) {\n      this._efuses[i] = await this.readRegister(baseAddr + 4 * i);\n    }\n  }\n\n  /**\n   * @name readRegister\n   * Read a register within the ESP chip RAM, returns a 4-element list\n   */\n  async readRegister(reg) {\n    let packet = this.pack(\"I\", reg);\n    let register = (await this.checkCommand(ESP_READ_REG, packet))[0];\n    return this.unpack(\"I\", register)[0];\n  }\n\n  /**\n   * @name chipType\n   * ESP32 or ESP8266 based on which chip type we're talking to\n   */\n  async chipType() {\n    if (this._chipfamily === null) {\n      let datareg = await this.readRegister(0x60000078);\n      if (datareg == ESP32_DATAREGVALUE) {\n        this._chipfamily = ESP32;\n      } else if (datareg == ESP8266_DATAREGVALUE) {\n        this._chipfamily = ESP8266;\n      } else if (datareg == ESP32S2_DATAREGVALUE) {\n        this._chipfamily = ESP32S2;\n      } else {\n        throw(\"Unknown Chip.\");\n      }\n    }\n    return this._chipfamily;\n  }\n\n  /**\n   * @name chipType\n   * The specific name of the chip, e.g. ESP8266EX, to the best\n   * of our ability to determine without a stub bootloader.\n   */\n  async chipName() {\n    await this.chipType();\n    await this._readEfuses();\n\n    if (await this.chipType() == ESP32) {\n      return \"ESP32\";\n    }\n    if (await this.chipType() == ESP32S2) {\n      return \"ESP32-S2\";\n    }\n    if (await this.chipType() == ESP8266) {\n      if (this._efuses[0] & (1 << 4) || this._efuses[2] & (1 << 16)) {\n        return \"ESP8285\";\n      }\n      return \"ESP8266EX\";\n    }\n    return null;\n  }\n\n  /**\n   * @name checkCommand\n   * Send a command packet, check that the command succeeded and\n   * return a tuple with the value and data.\n   * See the ESP Serial Protocol for more details on what value/data are\n   */\n  async checkCommand(opcode, buffer, checksum=0, timeout=DEFAULT_TIMEOUT) {\n    timeout = Math.min(timeout, MAX_TIMEOUT);\n    await this.sendCommand(opcode, buffer, checksum);\n    let [value, data] = await this.getResponse(opcode, timeout);\n    let statusLen;\n    if (data !== null) {\n      if (this.IS_STUB) {\n          statusLen = 2;\n      } else if (this._chipfamily == ESP8266) {\n          statusLen = 2;\n      } else if ([ESP32, ESP32S2].includes(this._chipfamily)) {\n          statusLen = 4;\n      } else {\n          if ([2, 4].includes(data.length)) {\n              statusLen = data.length;\n          }\n      }\n    }\n    if (data === null || data.length < statusLen) {\n      throw(\"Didn't get enough status bytes\");\n    }\n    let status = data.slice(-statusLen, data.length);\n    data = data.slice(0, -statusLen);\n    if (status[0] == 1) {\n      if (status[1] == ROM_INVALID_RECV_MSG) {\n        throw(\"Invalid (unsupported) command \" + this.toHex(opcode));\n      } else {\n        console.error(\"Full response: \", status);\n        throw(\"Command failure error code \" + this.toHex(status[1]));\n      }\n    }\n    return [value, data];\n  }\n\n  /**\n   * @name timeoutPerMb\n   * Scales timeouts which are size-specific\n   */\n  timeoutPerMb(secondsPerMb, sizeBytes) {\n      let result = Math.floor(secondsPerMb * (sizeBytes / 0x1e6));\n      if (result < DEFAULT_TIMEOUT) {\n        return DEFAULT_TIMEOUT;\n      }\n      return result;\n  }\n\n  /**\n   * @name sendCommand\n   * Send a slip-encoded, checksummed command over the UART,\n   * does not check response\n   */\n  async sendCommand(opcode, buffer, checksum=0) {\n    inputBuffer = []; // Reset input buffer\n    let packet = [0xC0, 0x00];  // direction\n    packet.push(opcode);\n    packet = packet.concat(this.pack(\"H\", buffer.length));\n    packet = packet.concat(this.slipEncode(this.pack(\"I\", checksum)));\n    packet = packet.concat(this.slipEncode(buffer));\n    packet.push(0xC0);\n    await this.writeToStream(packet);\n  }\n\n  /**\n   * @name getResponse\n   * Read response data and decodes the slip packet, then parses\n   * out the value/data and returns as a tuple of (value, data) where\n   * each is a list of bytes\n   */\n  async getResponse(opcode, timeout=DEFAULT_TIMEOUT) {\n    let reply = [];\n    let packetLength = 0;\n    let escapedByte = false;\n    let stamp = Date.now();\n    while (Date.now() - stamp < timeout) {\n      if (inputBuffer.length > 0) {\n        let c = inputBuffer.shift();\n        if (c == 0xDB) {\n          escapedByte = true;\n        } else if (escapedByte) {\n          if (c == 0xDD) {\n            reply.push(0xDC);\n          } else if (c == 0xDC) {\n            reply.push(0xC0);\n          } else {\n            reply = reply.concat([0xDB, c]);\n          }\n          escapedByte = false;\n        } else {\n          reply.push(c);\n        }\n      } else {\n        await this.sleep(10);\n      }\n      if (reply.length > 0 && reply[0] != 0xC0) {\n        // packets must start with 0xC0\n        reply.shift();\n      }\n      if (reply.length > 1 && reply[1] != 0x01) {\n        reply.shift();\n      }\n      if (reply.length > 2 && reply[2] != opcode) {\n        reply.shift();\n      }\n      if (reply.length > 4) {\n        // get the length\n        packetLength = reply[3] + (reply[4] << 8);\n      }\n      if (reply.length == packetLength + 10) {\n        break;\n      }\n    }\n\n    // Check to see if we have a complete packet. If not, we timed out.\n    if (reply.length != packetLength + 10) {\n      this.logFunc(\"Timed out after \" + timeout + \" milliseconds\");\n      return [null, null];\n    }\n    let value = reply.slice(5, 9);\n    let data = reply.slice(9, -1);\n    return [value, data];\n  }\n\n/**\n   * @name read\n   * Read response data and decodes the slip packet.\n   * Keeps reading until we hit the timeout or get\n   * a packet closing byte\n   */\n  async readBuffer(timeout=DEFAULT_TIMEOUT) {\n    let reply = [];\n    let packetLength = 0;\n    let escapedByte = false;\n    let stamp = Date.now();\n    while (Date.now() - stamp < timeout) {\n      if (inputBuffer.length > 0) {\n        let c = inputBuffer.shift();\n        if (c == 0xDB) {\n          escapedByte = true;\n        } else if (escapedByte) {\n          if (c == 0xDD) {\n            reply.push(0xDC);\n          } else if (c == 0xDC) {\n            reply.push(0xC0);\n          } else {\n            reply = reply.concat([0xDB, c]);\n          }\n          escapedByte = false;\n        } else {\n          reply.push(c);\n        }\n      } else {\n        await this.sleep(10);\n      }\n      if (reply.length > 0 && reply[0] != 0xC0) {\n        // packets must start with 0xC0\n        reply.shift();\n      }\n      if (reply.length > 1 && reply[reply.length - 1] == 0xC0) {\n        break;\n      }\n    }\n\n    // Check to see if we have a complete packet. If not, we timed out.\n    if (reply.length < 2) {\n      this.logFunc(\"Timed out after \" + timeout + \" milliseconds\");\n      return null;\n    }\n    let data = reply.slice(1, -1);\n    return data;\n  }\n\n\n  /**\n   * @name checksum\n   * Calculate checksum of a blob, as it is defined by the ROM\n   */\n  checksum(data, state=ESP_CHECKSUM_MAGIC) {\n    for (let b of data) {\n      state ^= b;\n    }\n    return state;\n  }\n  \n  getChromeVersion() {\n    let raw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    return raw ? parseInt(raw[2], 10) : false;\n  }\n\n  async setBaudrate(baud) {\n    if (this._chipfamily == ESP8266) {\n      this.logFunc(\"Baud rate can only change on ESP32 and ESP32-S2\");\n    }\n    let buffer = this.pack(\"<II\", baud, 0);\n    await this.checkCommand(ESP_CHANGE_BAUDRATE, buffer);\n    if (this.getChromeVersion() < 86) {\n      this.port.baudrate = baud;\n    } else {\n      this.port.baudRate = baud;\n    }\n    await this.sleep(100);\n    await this.checkCommand(ESP_CHANGE_BAUDRATE, buffer);\n    this.logFunc(\"Changed baud rate to \" + baud);\n  }\n\n  pack(...args) {\n    let format = args[0];\n    let pointer = 0;\n    let data = args.slice(1);\n    if (format.replace(/[<>]/, '').length != data.length) {\n      this.errorFunc(\"Pack format to Argument count mismatch\");\n      return;\n    }\n    let bytes = [];\n    let littleEndian = true;\n    for (let i = 0; i < format.length; i++) {\n      if (format[i] == \"<\") {\n        littleEndian = true;\n      } else if (format[i] == \">\") {\n        littleEndian = false;\n      } else if (format[i] == \"B\") {\n        pushBytes(data[pointer], 1);\n        pointer++;\n      } else if (format[i] == \"H\") {\n        pushBytes(data[pointer], 2);\n        pointer++;\n      } else if (format[i] == \"I\") {\n        pushBytes(data[pointer], 4);\n        pointer++;\n      } else {\n        this.errorFunc(\"Unhandled character in pack format\");\n      }\n    }\n\n    function pushBytes(value, byteCount) {\n      for (let i = 0; i < byteCount; i++) {\n        if (littleEndian) {\n          bytes.push((value >> (i * 8)) & 0xFF);\n        } else {\n          bytes.push((value >> ((byteCount - i) * 8)) & 0xFF);\n        }\n      }\n    }\n\n    return bytes;\n  }\n\n  unpack(format, bytes) {\n    let pointer = 0;\n    let data = [];\n    for (let c of format) {\n      if (c == \"B\") {\n        data.push((bytes[pointer] & 0xFF));\n        pointer += 1;\n      } else if (c == \"H\") {\n        data.push(\n          (bytes[pointer] & 0xFF) |\n          ((bytes[pointer + 1] & 0xFF) << 8)\n        );\n        pointer += 2;\n      } else if (c == \"I\") {\n        data.push(\n          (bytes[pointer] & 0xFF) |\n          ((bytes[pointer + 1] & 0xFF) << 8) |\n          ((bytes[pointer + 2] & 0xFF) << 16) |\n          ((bytes[pointer + 3] & 0xFF) << 24))\n        pointer += 4;\n      } else {\n        this.errorFunc(\"Unhandled character in unpack format\");\n      }\n    }\n    return data;\n  }\n\n  /**\n   * @name sync\n   * Put into ROM bootload mode & attempt to synchronize with the\n   * ESP ROM bootloader, we will retry a few times\n   */\n  async sync() {\n    for (let i = 0; i < 5; i++) {\n      let response = await this._sync();\n      if (response) {\n        await this.sleep(100);\n        return true;\n      }\n      await this.sleep(100);\n    }\n\n    throw(\"Couldn't sync to ESP. Try resetting.\");\n  }\n\n  /**\n   * @name _sync\n   * Perform a soft-sync using AT sync packets, does not perform\n   * any hardware resetting\n   */\n  async _sync() {\n    for (let j = 0; j < 4; j++) {\n        console.log(\"Issue reset...\");\n        await this.port.setSignals({ dataTerminalReady: false, requestToSend: true });\n        await new Promise(resolve => setTimeout(resolve, 1200));\n        await this.port.setSignals({ dataTerminalReady: true, requestToSend: false });\n        await new Promise(resolve => setTimeout(resolve, 450));\n        await this.port.setSignals({ dataTerminalReady: false });\n        for (let i = 0; i < 8; i++) {\n        await this.sendCommand(ESP_SYNC, SYNC_PACKET);\n            let [reply, data] = await this.getResponse(ESP_SYNC, 100);\n            if (data === null) {\n                continue;\n            }\n            if (data.length > 1 && data[0] == 0 && data[1] == 0) {\n                return true;\n            }\n        }\n        this.logFunc(\"ESP not responding, trying again...\");\n    }\n    return false;\n  }\n\n  /**\n   * @name getFlashWriteSize\n   * Get the Flash write size based on the chip\n   */\n  getFlashWriteSize() {\n    if (this._chipfamily == ESP32S2) {\n      return ESP32S2_FLASH_WRITE_SIZE;\n    }\n    return FLASH_WRITE_SIZE;\n  }\n\n  /**\n   * @name flashData\n   * Program a full, uncompressed binary file into SPI Flash at\n   *   a given offset. If an ESP32 and md5 string is passed in, will also\n   *   verify memory. ESP8266 does not have checksum memory verification in\n   *   ROM\n   */\n  async flashData(binaryData, offset=0, setProgress) {\n\n    let filesize = binaryData.byteLength;\n    this.logFunc(\"Writing data with filesize: \" + filesize);\n    let blocks = await this.flashBegin(filesize, offset);\n    this.logFunc(\"Blocks: \" + blocks);\n    let block = [];\n    let seq = 0;\n    let written = 0;\n    let address = offset;\n    let position = 0;\n    let stamp = Date.now();\n    let flashWriteSize = this.getFlashWriteSize();\n\n    while (filesize - position > 0) {\n      let percentage = Math.floor(100 * (seq + 1) / blocks);\n      setProgress(percentage);\n      if (filesize - position >= flashWriteSize) {\n        block = Array.from(new Uint8Array(binaryData, position, flashWriteSize));\n      } else {\n        // Pad the last block\n        block = Array.from(new Uint8Array(binaryData, position, filesize - position));\n        block = block.concat(new Array(flashWriteSize - block.length).fill(0xFF));\n      }\n      this.logFunc(\"Flashing block: \" + seq);\n      await this.flashBlock(block, seq, 2000);\n      seq += 1;\n      written += block.length;\n      position += flashWriteSize;\n    }\n    this.logFunc(\"Took \" + (Date.now() - stamp) + \"ms to write \" + filesize + \" bytes\");\n  }\n\n  /**\n   * @name flashBlock\n   * Send one block of data to program into SPI Flash memory\n   */\n  async flashBlock(data, seq, timeout=100) {\n    await this.checkCommand(\n      ESP_FLASH_DATA,\n      this.pack(\"<IIII\", data.length, seq, 0, 0).concat(data),\n      this.checksum(data),\n      timeout,\n    );\n  }\n  \n  toHex(value, size=2) {\n    return \"0x\" + value.toString(16).toUpperCase().padStart(size, \"0\");\n  }\n\n  /**\n   * @name flashBegin\n   * Prepare for flashing by attaching SPI chip and erasing the\n   *   number of blocks requred.\n   */\n  async flashBegin(size=0, offset=0, encrypted=false) {\n    let eraseSize;\n    let buffer;\n    let flashWriteSize = this.getFlashWriteSize();\n    /*if ([ESP32, ESP32S2].includes(this._chipfamily)) {\n      await this.checkCommand(ESP_SPI_ATTACH, new Array(8).fill(0));\n    }*/\n    if (this._chipfamily == ESP32) {\n      // We are hardcoded for 4MB flash on ESP32\n      buffer = this.pack(\n          \"<IIIIII\", 0, this._flashsize, 64 * 1024, 4 * 1024, 256, 0xFFFF\n      )\n      await this.checkCommand(ESP_SPI_SET_PARAMS, buffer);\n    }\n    let numBlocks = Math.floor((size + flashWriteSize - 1) / flashWriteSize);\n    if (this._chipfamily == ESP8266) {\n      eraseSize = this.getEraseSize(offset, size);\n    } else {\n      eraseSize = size;\n    }\n\n    let timeout;\n    if (this.IS_STUB) {\n      timeout = DEFAULT_TIMEOUT;\n    } else {\n      timeout = this.timeoutPerMb(ERASE_REGION_TIMEOUT_PER_MB, size);\n    }\n\n    let stamp = Date.now();\n    buffer = this.pack(\n        \"<IIII\", eraseSize, numBlocks, flashWriteSize, offset\n    );\n    if (this._chipfamily == ESP32S2) {\n      buffer = buffer.concat(this.pack(\n        \"<I\", encrypted ? 1 : 0\n      ));\n    }\n    this.logFunc(\n        \"Erase size \" + eraseSize + \", blocks \" + numBlocks + \", block size \" + flashWriteSize + \", offset \" + this.toHex(offset, 4) + \", encrypted \" + (encrypted ? \"yes\" : \"no\")\n    );\n    await this.checkCommand(ESP_FLASH_BEGIN, buffer, 0, timeout);\n    if (size != 0 && !this.IS_STUB) {\n      this.logFunc(\"Took \" + (Date.now() - stamp) + \"ms to erase \" + numBlocks + \" bytes\");\n    }\n    return numBlocks;\n  }\n\n  async flashFinish() {\n    let buffer = this.pack('<I', 1);\n    await this.checkCommand(ESP_FLASH_END, buffer);\n  }\n\n  /**\n   * @name getEraseSize\n   * Calculate an erase size given a specific size in bytes.\n   *   Provides a workaround for the bootloader erase bug on ESP8266.\n   */\n  getEraseSize(offset, size) {\n    let sectorsPerBlock = 16;\n    let sectorSize = FLASH_SECTOR_SIZE;\n    let numSectors = Math.floor((size + sectorSize - 1) / sectorSize);\n    let startSector = Math.floor(offset / sectorSize);\n\n    let headSectors = sectorsPerBlock - (startSector % sectorsPerBlock);\n    if (numSectors < headSectors) {\n      headSectors = numSectors;\n    }\n\n    if (numSectors < 2 * headSectors) {\n      return Math.floor((numSectors + 1) / 2 * sectorSize);\n    }\n\n    return (numSectors - headSectors) * sectorSize;\n  }\n\n    /**\n   * @name memBegin (592)\n   * Start downloading an application image to RAM\n   */\n  async memBegin(size, blocks, blocksize, offset) {\n    if (this.IS_STUB) {\n      let stub = await this.getStubCode();\n      let load_start = offset;\n      let load_end = offset + size;\n      console.log(load_start, load_end);\n      console.log(stub.data_start, stub.data.length, stub.text_start, stub.text.length);\n      for (let [start, end] of [\n        [stub.data_start, stub.data_start + stub.data.length],\n        [stub.text_start, stub.text_start + stub.text.length]]\n      ) {\n        if (load_start < end && load_end > start) {\n          throw(\"Software loader is resident at \" + this.toHex(start, 8) + \"-\" + this.toHex(end, 8) + \". \" +\n                \"Can't load binary at overlapping address range \" + this.toHex(load_start, 8) + \"-\" + this.toHex(load_end, 8) + \". \" +\n                \"Try changing the binary loading address.\");\n        }\n      }\n    }\n\n    return this.checkCommand(ESP_MEM_BEGIN, this.pack('<IIII', size, blocks, blocksize, offset));\n  }\n\n  /**\n   * @name memBlock (609)\n   * Send a block of an image to RAM\n   */\n  async memBlock(data, seq) {\n    return await this.checkCommand(\n      ESP_MEM_DATA,\n      this.pack('<IIII', data.length, seq, 0, 0).concat(data),\n      this.checksum(data)\n    );\n  }\n\n  /**\n   * @name memFinish (615)\n   * Leave download mode and run the application\n   *\n   * Sending ESP_MEM_END usually sends a correct response back, however sometimes\n   * (with ROM loader) the executed code may reset the UART or change the baud rate\n   * before the transmit FIFO is empty. So in these cases we set a short timeout and\n   * ignore errors.\n   */\n  async memFinish(entrypoint=0) {\n    let timeout = this.IS_STUB ? DEFAULT_TIMEOUT : MEM_END_ROM_TIMEOUT;\n    let data = this.pack('<II', parseInt(entrypoint == 0), entrypoint);\n    try {\n      return await this.checkCommand(ESP_MEM_END, data, 0, timeout);\n    } catch (e) {\n      if (this.IS_STUB) {\n        //  raise\n      }\n      // pass\n    }\n  }\n\n  async getStubCode() {\n    let response = await fetch('assets/stubs/' + this.getStubFile() + '.json');\n    let stubcode = await response.json();\n\n    // Base64 decode the text and data\n    stubcode.text = toByteArray(atob(stubcode.text));\n    stubcode.data = toByteArray(atob(stubcode.data));\n    return stubcode;\n  }\n\n  getStubFile() {\n    if (this._chipfamily == ESP32) {\n      return \"esp32\";\n    } else if (this._chipfamily == ESP32S2) {\n      return \"esp32s2\";\n    } else if (this._chipfamily == ESP8266) {\n      return \"esp8266\";\n    }\n  }\n\n  // ESPTool Line 706\n  async runStub(stub=null) {\n    if (stub === null) {\n      stub = await this.getStubCode();\n    }\n\n    // We're transferring over USB, right?\n    let ramBlock = USB_RAM_BLOCK;\n\n    // Upload\n    this.logFunc(\"Uploading stub...\")\n    for (let field of ['text', 'data']) {\n      if (Object.keys(stub).includes(field)) {\n        let offset = stub[field + \"_start\"];\n        let length = stub[field].length;\n        let blocks = Math.floor((length + ramBlock - 1) / ramBlock);\n        await this.memBegin(length, blocks, ramBlock, offset);\n        for (let seq of Array(blocks).keys()) { \n          let fromOffs = seq * ramBlock;\n          let toOffs = fromOffs + ramBlock;\n          if (toOffs > length) {\n            toOffs = length;\n          }\n          await this.memBlock(stub[field].slice(fromOffs, toOffs), seq);\n        }\n      }\n    }\n    this.logFunc(\"Running stub...\")\n    await this.memFinish(stub['entry']);\n\n    let p = await this.readBuffer(100);\n    p = String.fromCharCode(...p);\n\n    if (p != 'OHAI') {\n      throw \"Failed to start stub. Unexpected response: \" + p;\n    }\n    this.logFunc(\"Stub is now running...\");\n    return new EspStubLoader(this.logFunc, this.errorFunc, this.port, this.flashsize, this.writeToStream);\n  }\n  \n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n}\n\nclass EspStubLoader extends EspLoader {\n  /*\n    The Stubloader has commands that run on the uploaded Stub Code in RAM\n    rather than built in commands.\n  */\n  constructor(logFunc, errorFunc, port, flashsize, writeToStream) {\n    super(logFunc, errorFunc, port, flashsize, writeToStream);\n    this.IS_STUB = true;\n  }\n  /**\n   * @name getEraseSize\n   * depending on flash chip model the erase may take this long (maybe longer!)\n   */\n  async eraseFlash() {\n    await this.checkCommand(ESP_ERASE_FLASH, [], 0, CHIP_ERASE_TIMEOUT);\n  }\n}","<template>\n    <section id=\"apps\">\n        <mdb-row>\n            <mdb-col md=\"12\">\n                <mdb-card class=\"mb-4\">\n                    <mdb-card-header>Update your badge firmware</mdb-card-header>\n                    <mdb-card-body>\n                        This is an experimental page that you can use to recover the firmware on your Pixel.\n\n                        {{status}}\n                        <mdb-btn color=\"primary\" size=\"sm\" v-on:click=\"recover\">Recover your Pixel Badge</mdb-btn>\n                    </mdb-card-body>\n                </mdb-card>\n            </mdb-col>\n        </mdb-row>\n    </section>\n</template>\n\n<script>\n    import {\n        mdbRow,\n        mdbCol,\n        mdbBtn,\n        mdbTbl,\n        mdbCard,\n        mdbCardBody,\n        mdbCardHeader,\n    } from 'mdbvue';\n\n    import {Sketch} from 'vue-color';\n    import {\n        on_connect,\n        readfile,\n        createfolder,\n        savefile,\n        fetch_dir,\n        deldir,\n        savetextfile,\n        writetostdin,\n        port,\n        writer,\n        reader\n    } from '../badgecomm';\n    import {badges} from '../badge_configs';\n    import {EspLoader, inputBuffer} from '../esptool';\n\n    let component = undefined;\n\n    export default {\n        name: 'Recover',\n        components: {\n            mdbRow,\n            mdbCol,\n            mdbBtn,\n            mdbCard,\n            mdbCardBody,\n            mdbCardHeader,\n        },\n        beforeMount() {\n            component = this;\n            let repo_name = '';\n            // on_connect().then(async () => {\n            //     repo_name = (await transceive('import consts;print(consts.INFO_HARDWARE_WOEZEL_NAME)')).trim();\n            //     let version = await transceive('import consts; consts.INFO_FIRMWARE_BUILD');\n            //     component.badge_firmware_version = parseInt(version);\n            //     component.checking_badge = false;\n\n            //     fetch('https://ota.badge.team/version/'+repo_name+'.txt',{mode:'cors'})\n            //         .then(response => {response.json().then((version) => {\n            //             component.server_firmware_version = version.build;\n            //             component.server_firmware_name = version.name;\n            //             component.checking_server = false;\n            //         })});\n            // });\n        },\n        methods: {\n            render: async (text) => {\n                component.status = text;\n            },\n            getData: async (filename) => {\n                var request = new Request('assets/firmware/pixel'+filename);\n                var response = await fetch(request);\n                return response.arrayBuffer();\n            },\n            toHex(value, size=4) {\n                return \"0x\" + value.toString(16).toUpperCase().padStart(size, \"0\");\n            },\n            showProgress(operation, progress = 0) {\n                component.render(\"Writing \"+operation.name+\" to \" + component.toHex(operation.address) + \"... (\"+progress+\"%)\");\n            },\n            readLoop: async () => {\n                while (reader) {\n                    const { value, done } = await reader.read();\n                    if (done) {\n                        reader.releaseLock();\n                        break;\n                    }\n                    addInput(value);\n                }\n            },\n            recover: async (event) => {\n                let badge = badges['pixel'];\n                component.readLoop().catch((error) => {\n                    component.render(this.templates.disconnected, error);\n                });\n                let espTool = new EspLoader(component.render, (text) => component.render('Error: ' + text), port, badge.flashsize, (data) => writer.write(data));\n                let stubLoader;\n                component.render(\"Connecting to the badge...\");\n                try {\n                    if (await espTool.sync()) {\n                        if (badge.baudrate != ESP_ROM_BAUD) {\n                            component.render(\"Changing baudrate...\");\n                            await espTool.setBaudrate(badge.baudrate);\n                        }\n                        component.render(\"Connected to \" + await espTool.chipName() + \" (\" + espTool.macAddr().map(value => value.toString(16).toUpperCase().padStart(2, \"0\")).join(\":\") + \"), loading stub...\");\n                        stubLoader = await espTool.runStub();\n                    } else {\n                        component.render(\"Failed to connect.\");\n                    }\n                } catch(error) {\n                    component.render(error);\n                    return;\n                }\n\n                try {\n                    let operations = badge.flash;\n                    for (let index = 0; index < operations.length; index++) {\n                        let operation = operations[index];\n                        component.render(\"Downloading \"+operation.name+\"...\");\n                        let data = await component.getData(operation.filename);\n                        component.showProgress(operation);\n                        await stubLoader.flashData(data, operation.address, component.showProgress.bind(this, operation));\n                    }\n                    component.render(\"Done.\");\n                } catch(error) {\n                    console.error(error);\n                    component.render(error);\n                }\n            }\n        },\n        data() {\n            return {\n                status: ''\n            }\n        },\n        computed: {\n            filtered_store_apps: () => {\n                if(component.selected_store_category === 'all' && component.selected_store_state === 'all') {\n                    return component.store_apps;\n                }\n                return component.store_apps.filter((app) =>\n                    (component.selected_store_category === 'all' || app.category === component.selected_store_category) &&\n                    (component.selected_store_state === 'all' || app.status === component.selected_store_state));\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .cascading-admin-card {\n        margin: 20px 0;\n    }\n\n    .cascading-admin-card .admin-up {\n        margin-left: 4%;\n        margin-right: 4%;\n        margin-top: -20px;\n    }\n\n    .cascading-admin-card .admin-up .fas,\n    .cascading-admin-card .admin-up .far {\n        box-shadow: 0 2px 9px 0 rgba(0, 0, 0, 0.2), 0 2px 13px 0 rgba(0, 0, 0, 0.19);\n        padding: 1.7rem;\n        font-size: 2rem;\n        color: #fff;\n        text-align: left;\n        margin-right: 1rem;\n        border-radius: 3px;\n    }\n\n    .cascading-admin-card .admin-up .data {\n        float: right;\n        margin-top: 2rem;\n        text-align: right;\n    }\n\n    .admin-up .data p {\n        color: #999999;\n        font-size: 12px;\n    }\n\n    .classic-admin-card .card-body {\n        color: #fff;\n        margin-bottom: 0;\n        padding: 0.9rem;\n    }\n\n    .classic-admin-card .card-body p {\n        font-size: 13px;\n        opacity: 0.7;\n        margin-bottom: 0;\n    }\n\n    .classic-admin-card .card-body h4 {\n        margin-top: 10px;\n    }\n\n\n    .butt {\n        content: \"\";\n        border: 0px;\n        padding-bottom: 100%;\n        display: block;\n        width:100%;\n        cursor:pointer;\n        border-radius: 10px;\n        transition: .5s ease;\n        backface-visibility: hidden;\n        margin: 0 auto;\n    }\n\n    .butt:hover {\n        opacity: 0.3;\n        color:white;\n    }\n\n    .button_grid {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        grid-row-gap: 3.5%;\n        grid-column-gap: 3.5%;\n    }\n\n    .header {\n        margin: 10px;\n    }\n\n    .nav-left {\n        text-align: left;\n        float:left; /* add this */\n    }\n    .nav-right {\n        text-align: right;\n    }\n\n    .badge_container {\n        width: 80%;\n        display: block;\n        padding-bottom: 15%;\n        margin: 0 auto;\n    }\n\n    .page {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recover.vue?vue&type=template&id=fcc6a412&scoped=true&\"\nimport script from \"./Recover.vue?vue&type=script&lang=js&\"\nexport * from \"./Recover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recover.vue?vue&type=style&index=0&id=fcc6a412&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcc6a412\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"bad-gateway\"}},[_c('div',{staticClass:\"full\"},[_c('mdb-row',{staticClass:\"bad-gateway-row\"},[_c('mdb-col',{attrs:{\"md\":\"8\"}},[_c('img',{staticClass:\"img-fluid\",attrs:{\"alt\":\"Error 404\",\"hieght\":\"20px\",\"src\":require(\"../assets/logo-mdb-vue-small.png\")}}),_c('h2',{staticClass:\"h2-responsive mt-3 mb-2\"},[_vm._v(\"404. That's an error.\")]),_c('h4',[_vm._v(\"The requested URL was not found on this server.\")])]),_c('mdb-col',{attrs:{\"md\":\"4\"}},[_c('img',{staticClass:\"img-fluid\",attrs:{\"alt\":\"Error 404\",\"src\":\"https://mdbootstrap.com/img/Others/grafika404-bf.png\"}})])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section id=\"bad-gateway\">\n    <div class=\"full\">\n      <mdb-row class=\"bad-gateway-row\">\n        <mdb-col md=\"8\">\n          <img alt=\"Error 404\" class=\"img-fluid\" hieght=\"20px\" src=\"../assets/logo-mdb-vue-small.png\"/>\n          <h2 class=\"h2-responsive mt-3 mb-2\">404. That's an error.</h2>\n          <h4>The requested URL was not found on this server.</h4>\n        </mdb-col>\n        <mdb-col md=\"4\">\n          <img alt=\"Error 404\" class=\"img-fluid\" src=\"https://mdbootstrap.com/img/Others/grafika404-bf.png\"/>\n        </mdb-col>\n      </mdb-row>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mdbRow, mdbCol } from 'mdbvue'\n\nexport default {\n  name: 'BadGateway',\n  components: {\n    mdbRow,\n    mdbCol\n  },\n  data () {\n    return {\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.full {\n  height: 70vh;\n}\n.bad-gateway-row {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 55%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BadGateway.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BadGateway.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BadGateway.vue?vue&type=template&id=7bb7c836&scoped=true&\"\nimport script from \"./BadGateway.vue?vue&type=script&lang=js&\"\nexport * from \"./BadGateway.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BadGateway.vue?vue&type=style&index=0&id=7bb7c836&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bb7c836\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Welcome from '@/components/Welcome';\nimport Apps from '@/components/Apps';\nimport Programming from '@/components/Programming';\nimport Update from '@/components/Update';\nimport Settings from '@/components/Settings';\nimport Recover from '@/components/Recover';\nimport BadGateway from '@/components/BadGateway';\nimport {device} from '../badgecomm';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'hash',\n  routes: [\n    {\n      path: '/welcome',\n      name: 'Welcome',\n      props: { page: 0 },\n      meta: { page: 0 },\n      component: Welcome,\n      alias: '/'\n    },\n    {\n      path: '/apps',\n      name: 'Apps',\n      component: Apps,\n      props: { page: 1 },\n      meta: { page: 1 },\n    },\n    {\n      path: '/programming',\n      name: 'Programming & Files',\n      props: { page: 2 },\n      meta: { page: 2 },\n      component: Programming,\n    },\n    {\n      path: '/update',\n      name: 'Update',\n      props: { page: 3 },\n      meta: { page: 3 },\n      component: Update,\n    },\n    {\n      path: '/settings',\n      name: 'Settings',\n      props: { page: 4 },\n      meta: { page: 4 },\n      component: Settings,\n    },\n    {\n      path: '/recover',\n      name: 'Recover',\n      props: { page: 5 },\n      meta: { page: 5 },\n      component: Recover,\n    },\n    {\n      path: '/404',\n      name: 'BadGateway',\n      props: { page: 6 },\n      meta: { page: 6 },\n      component: BadGateway,\n    },\n    {\n      path: '*',\n      props: { page: 6 },\n      meta: { page: 6 },\n      redirect: '/404',\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(\"router.beforeEach\", to, from, next);\n  if (to.name != 'Welcome') {\n    if (device !== undefined && device.opened) {\n      next();\n    } else {\n      next('/');\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n\n  },\n  mutations: {\n\n  },\n  actions: {\n\n  }\n})\n","import '@fortawesome/fontawesome-free/css/all.min.css'\nimport 'bootstrap-css-only/css/bootstrap.min.css'\nimport 'mdbvue/lib/css/mdb.min.css'\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport * as VueGoogleMaps from 'vue2-google-maps'\n\nVue.use(VueGoogleMaps, {\n  load: {\n    libraries: 'places'\n  }\n})\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BadGateway.vue?vue&type=style&index=0&id=7bb7c836&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/EMF-W-coral-LogoText-2022-colour.426d5dbd.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=style&index=0&id=8a0d9888&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recover.vue?vue&type=style&index=0&id=fcc6a412&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Programming.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Apps.vue?vue&type=style&index=0&id=88f0b2e8&scoped=true&lang=css&\""],"sourceRoot":""}